'use strict';const _0x24a734=_0x4c4e;(function(_0x3f5190,_0x325726){const _0x33df02=_0x4c4e,_0x4d89ec=_0x3f5190();while(!![]){try{const _0x21a4d1=-parseInt(_0x33df02(0x168))/0x1+-parseInt(_0x33df02(0x163))/0x2*(parseInt(_0x33df02(0x131))/0x3)+parseInt(_0x33df02(0x18c))/0x4*(parseInt(_0x33df02(0x14b))/0x5)+parseInt(_0x33df02(0x15a))/0x6+-parseInt(_0x33df02(0x136))/0x7+parseInt(_0x33df02(0x138))/0x8+parseInt(_0x33df02(0x141))/0x9*(parseInt(_0x33df02(0x151))/0xa);if(_0x21a4d1===_0x325726)break;else _0x4d89ec['push'](_0x4d89ec['shift']());}catch(_0x2ccd5c){_0x4d89ec['push'](_0x4d89ec['shift']());}}}(_0x4b84,0xa2ff0));var __awaiter=this&&this[_0x24a734(0x12e)]||function(_0x1b80d5,_0x124f3f,_0x4b4c44,_0x6b548e){function _0x561994(_0xa01bf4){return _0xa01bf4 instanceof _0x4b4c44?_0xa01bf4:new _0x4b4c44(function(_0x2e1cef){_0x2e1cef(_0xa01bf4);});}return new(_0x4b4c44||(_0x4b4c44=Promise))(function(_0x19d7d9,_0x121725){const _0x3630dd=_0x4c4e;function _0x3b3302(_0x50028e){const _0x367499=_0x4c4e;try{_0xfcf079(_0x6b548e[_0x367499(0x172)](_0x50028e));}catch(_0x15a964){_0x121725(_0x15a964);}}function _0x1d78b5(_0xa36e83){const _0x23c7cd=_0x4c4e;try{_0xfcf079(_0x6b548e[_0x23c7cd(0x166)](_0xa36e83));}catch(_0x19cf05){_0x121725(_0x19cf05);}}function _0xfcf079(_0x62bed3){const _0x3c0866=_0x4c4e;_0x62bed3[_0x3c0866(0x142)]?_0x19d7d9(_0x62bed3[_0x3c0866(0x155)]):_0x561994(_0x62bed3['value'])[_0x3c0866(0x15f)](_0x3b3302,_0x1d78b5);}_0xfcf079((_0x6b548e=_0x6b548e[_0x3630dd(0x150)](_0x1b80d5,_0x124f3f||[]))[_0x3630dd(0x172)]());});},__importDefault=this&&this[_0x24a734(0x160)]||function(_0x957cfe){const _0x27293b=_0x24a734;return _0x957cfe&&_0x957cfe[_0x27293b(0x165)]?_0x957cfe:{'default':_0x957cfe};};Object[_0x24a734(0x140)](exports,'__esModule',{'value':!![]}),exports[_0x24a734(0x17c)]=exports['addDevice']=exports[_0x24a734(0x145)]=exports[_0x24a734(0x17e)]=exports['deleteSchedule']=exports[_0x24a734(0x143)]=exports[_0x24a734(0x18e)]=exports[_0x24a734(0x14e)]=void 0x0;const mongoose_1=require(_0x24a734(0x13a)),validator_1=__importDefault(require('../classes/validator')),device_entity_1=__importDefault(require(_0x24a734(0x12c))),broker_provider_1=__importDefault(require(_0x24a734(0x13f))),logs_entity_1=__importDefault(require(_0x24a734(0x16c))),saveDevice=(_0x34d9c7,_0x4e9c74)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1c54ac=_0x24a734;try{const {serialNumber:_0x3cc376,name:_0x20e485,category:_0x2a64d7}=_0x34d9c7[_0x1c54ac(0x162)];if(!_0x3cc376||!_0x20e485||!_0x2a64d7)return _0x4e9c74[_0x1c54ac(0x173)](0x190)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x154)});if(_0x3cc376[_0x1c54ac(0x152)]()==='')return _0x4e9c74['status'](0x190)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x156)});if(_0x2a64d7[_0x1c54ac(0x152)]()==='')return _0x4e9c74[_0x1c54ac(0x173)](0x190)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x130)});if(_0x20e485[_0x1c54ac(0x152)]()==='')return _0x4e9c74['status'](0x190)[_0x1c54ac(0x184)]({'message':'نام\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!'});if(_0x20e485[_0x1c54ac(0x152)]()[_0x1c54ac(0x169)]>0x32)return _0x4e9c74[_0x1c54ac(0x173)](0x190)[_0x1c54ac(0x184)]({'message':'نام\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!'});if(_0x2a64d7[_0x1c54ac(0x152)]()['length']>0x32)return _0x4e9c74[_0x1c54ac(0x173)](0x190)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x12b)});const _0x4a8620=yield device_entity_1[_0x1c54ac(0x189)][_0x1c54ac(0x18a)](_0x3cc376[_0x1c54ac(0x152)](),_0x34d9c7[_0x1c54ac(0x15c)],'save');if(!_0x4a8620['valid'])return _0x4e9c74['status'](0x190)[_0x1c54ac(0x184)]({'message':_0x4a8620[_0x1c54ac(0x147)]});if(_0x4a8620[_0x1c54ac(0x134)]==_0x1c54ac(0x13d)){const {model:_0x4d38cc}=_0x34d9c7['body'];if(!_0x4d38cc)return _0x4e9c74[_0x1c54ac(0x173)](0x190)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x16d)});if(_0x4d38cc[_0x1c54ac(0x152)]()==='')return _0x4e9c74[_0x1c54ac(0x173)](0x190)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x157)});if(_0x4d38cc['trim']()[_0x1c54ac(0x169)]>0x19)return _0x4e9c74[_0x1c54ac(0x173)](0x190)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x179)});yield device_entity_1[_0x1c54ac(0x189)][_0x1c54ac(0x137)](_0x3cc376['trim'](),_0x4d38cc[_0x1c54ac(0x152)](),_0x20e485[_0x1c54ac(0x152)](),_0x2a64d7[_0x1c54ac(0x152)](),_0x34d9c7[_0x1c54ac(0x15c)]);}else{if(_0x4a8620[_0x1c54ac(0x134)]==_0x1c54ac(0x15d)){let {power1:_0x542075,power2:_0x4e0cfe,power3:_0x4518d3,power4:_0xd84617,usb1:_0x2d2492,usb2:_0x3d9c3d}=_0x34d9c7[_0x1c54ac(0x162)];yield device_entity_1[_0x1c54ac(0x189)][_0x1c54ac(0x16f)](_0x3cc376[_0x1c54ac(0x152)](),_0x2a64d7['trim'](),_0x20e485[_0x1c54ac(0x152)](),_0x34d9c7[_0x1c54ac(0x15c)],_0x542075,_0x4e0cfe,_0x4518d3,_0xd84617,_0x2d2492,_0x3d9c3d);}}const _0x24bbb1=yield device_entity_1['default'][_0x1c54ac(0x133)](_0x34d9c7[_0x1c54ac(0x15c)]);return _0x4e9c74[_0x1c54ac(0x184)]({'message':'دستگاه\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','devices':_0x24bbb1});}catch(_0x3f550f){return console[_0x1c54ac(0x180)](_0x1c54ac(0x13e)),console[_0x1c54ac(0x180)](_0x3f550f),_0x4e9c74['status'](0x1f4)[_0x1c54ac(0x184)]({'message':_0x1c54ac(0x15b)});}});function _0x4c4e(_0x5ba362,_0x4e1076){const _0x4b8481=_0x4b84();return _0x4c4e=function(_0x4c4ea5,_0x43e0b5){_0x4c4ea5=_0x4c4ea5-0x12a;let _0x141182=_0x4b8481[_0x4c4ea5];return _0x141182;},_0x4c4e(_0x5ba362,_0x4e1076);}exports[_0x24a734(0x14e)]=saveDevice;const deleteDevice=(_0x162cd1,_0x5c57cf)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xe9fcde=_0x24a734;try{const {serialNumber:_0x47f9bd}=_0x162cd1[_0xe9fcde(0x162)];if(!_0x47f9bd)return _0x5c57cf['status'](0x190)[_0xe9fcde(0x184)]({'message':_0xe9fcde(0x187)});const _0x476428=yield device_entity_1['default'][_0xe9fcde(0x18a)](_0x47f9bd,_0x162cd1[_0xe9fcde(0x15c)],_0xe9fcde(0x17d));if(!_0x476428['valid'])return _0x5c57cf[_0xe9fcde(0x173)](0x190)[_0xe9fcde(0x184)]({'message':_0x476428[_0xe9fcde(0x147)]});yield device_entity_1['default'][_0xe9fcde(0x16e)](_0x47f9bd,_0x476428['type']);const _0x1c61c1=yield device_entity_1[_0xe9fcde(0x189)][_0xe9fcde(0x133)](_0x162cd1[_0xe9fcde(0x15c)]);return _0x5c57cf[_0xe9fcde(0x184)]({'message':_0xe9fcde(0x18b),'devices':_0x1c61c1});}catch(_0x39967e){return console['error'](_0xe9fcde(0x139)),console[_0xe9fcde(0x180)](_0x39967e),_0x5c57cf[_0xe9fcde(0x173)](0x1f4)[_0xe9fcde(0x184)]({'message':_0xe9fcde(0x15b)});}});exports[_0x24a734(0x18e)]=deleteDevice;const saveSchedule=(_0x207e43,_0x402650)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1a71d8=_0x24a734;try{const {startTime:_0x5b749c,endTime:_0x1166c3,repeat:_0x49dc98,serialNumber:_0x4ac9af,portNumber:_0x3c16f5,id:_0x3b59d5,enable:_0x1d69b6}=_0x207e43[_0x1a71d8(0x162)];if(!_0x5b749c&&!_0x1166c3)return _0x402650[_0x1a71d8(0x173)](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x167)});if(!_0x4ac9af||!_0x49dc98)return _0x402650[_0x1a71d8(0x173)](0x190)['json']({'message':_0x1a71d8(0x154)});if(_0x4ac9af[_0x1a71d8(0x152)]()==='')return _0x402650['status'](0x190)[_0x1a71d8(0x184)]({'message':'خطا\x20در\x20ورودی'});if(!validator_1['default'][_0x1a71d8(0x171)](_0x49dc98))return _0x402650['status'](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x132)});if(_0x5b749c){if(!validator_1['default'][_0x1a71d8(0x146)](_0x5b749c))return _0x402650[_0x1a71d8(0x173)](0x190)['json']({'message':'فرمت\x20ساعت\x20روشن\x20شدن\x20اشتباه\x20است'});}if(_0x1166c3){if(!validator_1[_0x1a71d8(0x189)][_0x1a71d8(0x146)](_0x1166c3))return _0x402650[_0x1a71d8(0x173)](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x176)});}const _0x4bf4a1=yield device_entity_1[_0x1a71d8(0x189)][_0x1a71d8(0x18a)](_0x4ac9af,_0x207e43[_0x1a71d8(0x15c)],_0x1a71d8(0x170));if(!_0x4bf4a1[_0x1a71d8(0x12a)])return _0x402650['status'](0x1f4)[_0x1a71d8(0x184)]({'message':_0x4bf4a1[_0x1a71d8(0x147)]});if(_0x4bf4a1[_0x1a71d8(0x134)]===_0x1a71d8(0x15d)){if(!_0x3c16f5)return _0x402650[_0x1a71d8(0x173)](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x154)});}if(!_0x3b59d5)yield device_entity_1[_0x1a71d8(0x189)][_0x1a71d8(0x170)]({'serialNumber':_0x4ac9af[_0x1a71d8(0x152)](),'startTime':_0x5b749c===null||_0x5b749c===void 0x0?void 0x0:_0x5b749c[_0x1a71d8(0x152)](),'endTime':_0x1166c3===null||_0x1166c3===void 0x0?void 0x0:_0x1166c3['trim'](),'repeat':_0x49dc98,'type':_0x4bf4a1['type'],'portNumber':_0x3c16f5});else{if(_0x1d69b6===undefined||_0x1d69b6==null)return _0x402650[_0x1a71d8(0x173)](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x154)});if(typeof _0x1d69b6!==_0x1a71d8(0x15e))return _0x402650[_0x1a71d8(0x173)](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x154)});if(_0x3b59d5[_0x1a71d8(0x152)]()==='')return _0x402650[_0x1a71d8(0x173)](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x154)});if(!(0x0,mongoose_1[_0x1a71d8(0x183)])(_0x3b59d5))return _0x402650['status'](0x190)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x154)});yield device_entity_1[_0x1a71d8(0x189)][_0x1a71d8(0x161)]({'serialNumber':_0x4ac9af,'startTime':_0x5b749c,'endTime':_0x1166c3,'repeat':_0x49dc98,'portNumber':_0x3c16f5,'enable':_0x1d69b6,'_id':new mongoose_1['Types'][(_0x1a71d8(0x14a))](_0x3b59d5),'type':_0x4bf4a1[_0x1a71d8(0x134)]});}const _0x2f9118=yield device_entity_1['default'][_0x1a71d8(0x133)](_0x207e43[_0x1a71d8(0x15c)]);return _0x402650[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x12f),'devices':_0x2f9118});}catch(_0x3f8db0){return console['error'](_0x1a71d8(0x16a)),console[_0x1a71d8(0x180)](_0x3f8db0),_0x402650[_0x1a71d8(0x173)](0x1f4)[_0x1a71d8(0x184)]({'message':_0x1a71d8(0x15b)});}});exports[_0x24a734(0x143)]=saveSchedule;const deleteSchedule=(_0x4736ab,_0x264a6a)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x492963=_0x24a734;try{const {serialNumber:_0x552c3c,id:_0x179d97}=_0x4736ab['body'];if(!_0x552c3c||!_0x179d97)return _0x264a6a[_0x492963(0x173)](0x190)[_0x492963(0x184)]({'message':_0x492963(0x154)});if(_0x552c3c[_0x492963(0x152)]()==='')return _0x264a6a[_0x492963(0x173)](0x190)[_0x492963(0x184)]({'message':_0x492963(0x154)});if(_0x179d97['trim']()==='')return _0x264a6a['status'](0x190)[_0x492963(0x184)]({'message':_0x492963(0x154)});const _0x4e85e6=yield device_entity_1[_0x492963(0x189)][_0x492963(0x18a)](_0x552c3c,_0x4736ab['userId'],_0x492963(0x14f));if(!_0x4e85e6[_0x492963(0x12a)])return _0x264a6a[_0x492963(0x173)](0x190)[_0x492963(0x184)]({'message':_0x4e85e6[_0x492963(0x147)]});yield device_entity_1[_0x492963(0x189)][_0x492963(0x14f)](_0x552c3c,new mongoose_1[(_0x492963(0x18d))]['ObjectId'](_0x179d97),_0x4e85e6[_0x492963(0x134)]);const _0x27b8eb=yield device_entity_1[_0x492963(0x189)]['getAllDevices'](_0x4736ab[_0x492963(0x15c)]);return _0x264a6a['json']({'message':_0x492963(0x12f),'devices':_0x27b8eb});}catch(_0x24be16){return console[_0x492963(0x180)]('inside\x20delete\x20schedule'),console[_0x492963(0x180)](_0x24be16),_0x264a6a['status'](0x1f4)['json']({'message':_0x492963(0x15b)});}});exports['deleteSchedule']=deleteSchedule;const deleteOwnerOfDevice=(_0x2ac9ad,_0x33b25e)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4cd0f6=_0x24a734;try{const {serialNumber:_0x530440}=_0x2ac9ad[_0x4cd0f6(0x162)];if(!_0x530440)return _0x33b25e[_0x4cd0f6(0x173)](0x190)[_0x4cd0f6(0x184)]({'message':_0x4cd0f6(0x187),'status':![]});const _0x41401d=yield device_entity_1[_0x4cd0f6(0x189)][_0x4cd0f6(0x159)](_0x530440);if(!_0x41401d[_0x4cd0f6(0x12a)])return _0x33b25e[_0x4cd0f6(0x173)](0x190)[_0x4cd0f6(0x184)]({'message':_0x41401d[_0x4cd0f6(0x147)],'status':![]});return yield device_entity_1[_0x4cd0f6(0x189)][_0x4cd0f6(0x16e)](_0x530440,_0x41401d[_0x4cd0f6(0x134)]),_0x33b25e[_0x4cd0f6(0x184)]({'message':_0x4cd0f6(0x18b),'status':!![]});}catch(_0x2f4959){return console['error']('inside\x20delete\x20device\x20site'),console[_0x4cd0f6(0x180)](_0x2f4959),_0x33b25e[_0x4cd0f6(0x173)](0x1f4)[_0x4cd0f6(0x184)]({'message':'خطایی\x20پیش\x20آمده'});}});function _0x4b84(){const _0x4adb9a=['63zJGpgs','فرمت\x20انتخاب\x20روز\x20های\x20هفته\x20اشتباه\x20است','getAllDevices','type','addDevicePower','9303525OAoLUD','saveCooler','2088232SzKNqK','inside\x20delete\x20device','mongoose','inside\x20kick\x20device','toString','cooler','inside\x20add\x20device','../classes/broker_provider','defineProperty','4170582oBjcQu','done','saveSchedule','kickDeviceFromBroker','kickDevice','isTime','message','addUserToMnesia','user','ObjectId','25Bnktug','addDeviceCooler','removeCooler','saveDevice','deleteSchedule','apply','30xKJXYa','trim','addDevice','خطا\x20در\x20ورودی','value','شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید!','مدل\x20کولر\x20را\x20وارد\x20نکرده\x20اید!','chp-','validateSerialNumberForAdmin','6657402Teyjhl','خطایی\x20پیش\x20آمده','userId','power','boolean','then','__importDefault','editSchedule','body','54902PXIeSH','ورودی\x20نامعتبر!','__esModule','throw','زمان\x20روشن\x20شدن\x20یا\x20زمان\x20خاموش\x20شدن\x20باید\x20انتخاب\x20شود','397377JlGrtS','length','inside\x20add\x20schedule','شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید','../entities/logs.entity','مدل\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!','deleteOwnerDevice','savePower','addSchedule','isWeekDayArray','next','status','کلمه\x20عبور\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید','addPower','فرمت\x20ساعت\x20خاموش\x20شدن\x20اشتباه\x20است','این\x20شماره\x20سریال\x20برای\x20دستگاه\x20دیگری\x20قبلا\x20ثبت\x20شده\x20است!','powerExists','مدل\x20کولر\x20نمیتواند\x20بیش\x20تر\x20از\x20۲۵\x20کاراکتر\x20\x20باشد','includes','deviceExists','deleteDeviceInStoreRoom','delete','deleteOwnerOfDevice','serialNumber','error','دستگاه\x20با\x20موفقیت\x20اضافه\x20شد!','removePower','isValidObjectId','json','نوع\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید','دستگاه\x20مورد\x20نظر\x20با\x20موفقیت\x20حذف\x20شد!','خطا\x20در\x20ورودی!','chc-','default','validateSerialNumber','دستگاه\x20شما\x20با\x20موفقیت\x20حذف\x20شد','167812tTjvgr','Types','deleteDevice','valid','دسته\x20بندی\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!','../entities/device.entity','inside\x20remove\x20device','__awaiter','تغییرات\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','دسته\x20بندی\x20را\x20وارد\x20نکرده\x20اید!'];_0x4b84=function(){return _0x4adb9a;};return _0x4b84();}exports[_0x24a734(0x17e)]=deleteOwnerOfDevice;const kickDevice=(_0x57d7c0,_0x30bfb3)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4010d9=_0x24a734;try{const {serialNumber:_0x49cb17}=_0x57d7c0['body'];if(!_0x49cb17)return _0x30bfb3[_0x4010d9(0x173)](0x190)[_0x4010d9(0x184)]({'message':_0x4010d9(0x187),'status':![]});const _0x4efa52=yield device_entity_1[_0x4010d9(0x189)][_0x4010d9(0x159)](_0x49cb17);if(!_0x4efa52[_0x4010d9(0x12a)])return _0x30bfb3[_0x4010d9(0x173)](0x190)[_0x4010d9(0x184)]({'message':_0x4efa52[_0x4010d9(0x147)],'status':![]});return yield broker_provider_1[_0x4010d9(0x189)][_0x4010d9(0x145)](_0x49cb17),yield logs_entity_1[_0x4010d9(0x189)][_0x4010d9(0x144)](_0x49cb17,_0x57d7c0['user']['id'],_0x57d7c0[_0x4010d9(0x149)]['fullName']),_0x30bfb3[_0x4010d9(0x184)]({'message':'ارتباط\x20دستگاه\x20با\x20موفقیت\x20با\x20سرور\x20قطع\x20شد','status':!![]});}catch(_0x5b0961){return console['error'](_0x4010d9(0x13b)),console[_0x4010d9(0x180)](_0x5b0961),_0x30bfb3['status'](0x1f4)['json']({'message':'خطایی\x20پیش\x20آمده','status':![]});}});exports['kickDevice']=kickDevice;const addDevice=(_0x2e2110,_0x3e25c0)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x10cbd1=_0x24a734;try{const {password:_0x3df2b5,type:_0x2a4120}=_0x2e2110[_0x10cbd1(0x162)];let _0x4f5c29=_0x2e2110[_0x10cbd1(0x162)][_0x10cbd1(0x17f)];if(!_0x4f5c29||!_0x3df2b5||!_0x2a4120)return _0x3e25c0[_0x10cbd1(0x173)](0x190)['json']({'status':![],'message':_0x10cbd1(0x154)});if(_0x4f5c29[_0x10cbd1(0x13c)]()['trim']()=='')return _0x3e25c0[_0x10cbd1(0x173)](0x190)[_0x10cbd1(0x184)]({'status':![],'message':_0x10cbd1(0x16b)});if(_0x3df2b5[_0x10cbd1(0x13c)]()[_0x10cbd1(0x152)]()=='')return _0x3e25c0[_0x10cbd1(0x173)](0x190)[_0x10cbd1(0x184)]({'status':![],'message':_0x10cbd1(0x174)});if(_0x2a4120['toString']()[_0x10cbd1(0x152)]()=='')return _0x3e25c0[_0x10cbd1(0x173)](0x190)[_0x10cbd1(0x184)]({'status':![],'message':_0x10cbd1(0x185)});if(![_0x10cbd1(0x13d),_0x10cbd1(0x15d)][_0x10cbd1(0x17a)](_0x2a4120['toString']()))return _0x3e25c0[_0x10cbd1(0x173)](0x190)[_0x10cbd1(0x184)]({'status':![],'message':_0x10cbd1(0x154)});if(yield device_entity_1['default'][_0x10cbd1(0x17b)](_0x4f5c29))return _0x3e25c0[_0x10cbd1(0x173)](0x190)[_0x10cbd1(0x184)]({'status':![],'message':_0x10cbd1(0x177)});let _0x22f254=undefined;if(_0x2a4120=='power')_0x4f5c29=_0x10cbd1(0x158)+_0x4f5c29,_0x22f254=yield device_entity_1[_0x10cbd1(0x189)][_0x10cbd1(0x175)](_0x4f5c29,_0x3df2b5,_0x2e2110[_0x10cbd1(0x149)]['id']),yield logs_entity_1[_0x10cbd1(0x189)][_0x10cbd1(0x135)](_0x4f5c29,_0x2e2110[_0x10cbd1(0x149)]['id'],_0x22f254);else _0x2a4120==_0x10cbd1(0x13d)&&(_0x4f5c29=_0x10cbd1(0x188)+_0x4f5c29,_0x22f254=yield device_entity_1[_0x10cbd1(0x189)]['addCooler'](_0x4f5c29,_0x3df2b5,_0x2e2110[_0x10cbd1(0x149)]['id']),yield logs_entity_1[_0x10cbd1(0x189)][_0x10cbd1(0x14c)](_0x4f5c29,_0x2e2110[_0x10cbd1(0x149)]['id'],_0x22f254));return yield broker_provider_1['default'][_0x10cbd1(0x148)](_0x4f5c29,_0x3df2b5),_0x3e25c0['json']({'status':!![],'message':_0x10cbd1(0x181)});}catch(_0x173cd1){return console[_0x10cbd1(0x180)](_0x10cbd1(0x13e)),console[_0x10cbd1(0x180)](_0x173cd1),_0x3e25c0['status'](0x1f4)[_0x10cbd1(0x184)]({'message':_0x10cbd1(0x15b),'status':![]});}});exports[_0x24a734(0x153)]=addDevice;const deleteDeviceInStoreRoom=(_0x2b622f,_0x4d7e82)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x15e231=_0x24a734;try{const {serialNumber:_0x28a945,type:_0x3da36a}=_0x2b622f[_0x15e231(0x162)];if(!_0x28a945||!_0x3da36a)return _0x4d7e82[_0x15e231(0x173)](0x190)[_0x15e231(0x184)]({'status':![],'message':_0x15e231(0x164)});if(_0x28a945[_0x15e231(0x13c)]()[_0x15e231(0x152)]()=='')return _0x4d7e82[_0x15e231(0x173)](0x190)[_0x15e231(0x184)]({'status':![],'message':_0x15e231(0x164)});if(_0x3da36a[_0x15e231(0x13c)]()[_0x15e231(0x152)]()=='')return _0x4d7e82[_0x15e231(0x173)](0x190)[_0x15e231(0x184)]({'status':![],'message':_0x15e231(0x164)});if(_0x3da36a==_0x15e231(0x13d)){if(!(yield device_entity_1[_0x15e231(0x189)]['coolerExists'](_0x28a945)))return _0x4d7e82[_0x15e231(0x173)](0x190)[_0x15e231(0x184)]({'status':![],'message':_0x15e231(0x164)});yield device_entity_1[_0x15e231(0x189)][_0x15e231(0x14d)](_0x28a945);}else{if(_0x3da36a==_0x15e231(0x15d)){if(!(yield device_entity_1[_0x15e231(0x189)][_0x15e231(0x178)](_0x28a945)))return _0x4d7e82[_0x15e231(0x173)](0x190)[_0x15e231(0x184)]({'status':![],'message':'ورودی\x20نامعتبر!'});yield device_entity_1['default'][_0x15e231(0x182)](_0x28a945);}}return _0x4d7e82['json']({'status':!![],'message':_0x15e231(0x186)});}catch(_0x15db88){return console[_0x15e231(0x180)](_0x15e231(0x12d)),console['error'](_0x15db88),_0x4d7e82[_0x15e231(0x173)](0x1f4)[_0x15e231(0x184)]({'message':_0x15e231(0x15b),'status':![]});}});exports[_0x24a734(0x17c)]=deleteDeviceInStoreRoom;