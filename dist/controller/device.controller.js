'use strict';const _0xd10971=_0x4a0b;(function(_0x19644a,_0x2c84a5){const _0x58b8fa=_0x4a0b,_0x534701=_0x19644a();while(!![]){try{const _0x10b132=parseInt(_0x58b8fa(0x22e))/0x1+-parseInt(_0x58b8fa(0x1e9))/0x2+parseInt(_0x58b8fa(0x236))/0x3*(-parseInt(_0x58b8fa(0x1fd))/0x4)+parseInt(_0x58b8fa(0x243))/0x5+-parseInt(_0x58b8fa(0x1fb))/0x6+-parseInt(_0x58b8fa(0x232))/0x7+parseInt(_0x58b8fa(0x20a))/0x8;if(_0x10b132===_0x2c84a5)break;else _0x534701['push'](_0x534701['shift']());}catch(_0x42f262){_0x534701['push'](_0x534701['shift']());}}}(_0x53fc,0x4de44));var __awaiter=this&&this[_0xd10971(0x1f8)]||function(_0x4a13ef,_0x4156f3,_0x29d278,_0x30e433){function _0x40538c(_0x2653c1){return _0x2653c1 instanceof _0x29d278?_0x2653c1:new _0x29d278(function(_0x141c3c){_0x141c3c(_0x2653c1);});}return new(_0x29d278||(_0x29d278=Promise))(function(_0x4ad4d0,_0x50aef8){const _0x670fb3=_0x4a0b;function _0x1b23bc(_0x485826){try{_0x23c4db(_0x30e433['next'](_0x485826));}catch(_0x127cd0){_0x50aef8(_0x127cd0);}}function _0x227370(_0x312dc5){try{_0x23c4db(_0x30e433['throw'](_0x312dc5));}catch(_0x115056){_0x50aef8(_0x115056);}}function _0x23c4db(_0x100da8){const _0x357524=_0x4a0b;_0x100da8[_0x357524(0x23c)]?_0x4ad4d0(_0x100da8['value']):_0x40538c(_0x100da8[_0x357524(0x203)])[_0x357524(0x23b)](_0x1b23bc,_0x227370);}_0x23c4db((_0x30e433=_0x30e433[_0x670fb3(0x1f4)](_0x4a13ef,_0x4156f3||[]))[_0x670fb3(0x230)]());});},__importDefault=this&&this['__importDefault']||function(_0x31b0e1){const _0x20c0e6=_0xd10971;return _0x31b0e1&&_0x31b0e1[_0x20c0e6(0x1f3)]?_0x31b0e1:{'default':_0x31b0e1};};Object[_0xd10971(0x23d)](exports,_0xd10971(0x1f3),{'value':!![]}),exports[_0xd10971(0x1f9)]=exports[_0xd10971(0x228)]=exports['kickDevice']=exports[_0xd10971(0x204)]=exports[_0xd10971(0x1f2)]=exports[_0xd10971(0x1fc)]=exports[_0xd10971(0x1ff)]=exports[_0xd10971(0x21e)]=void 0x0;const mongoose_1=require('mongoose'),validator_1=__importDefault(require(_0xd10971(0x1ed))),device_entity_1=__importDefault(require(_0xd10971(0x1fa))),broker_provider_1=__importDefault(require(_0xd10971(0x240))),logs_entity_1=__importDefault(require(_0xd10971(0x229))),saveDevice=(_0x9ed06e,_0x25bab0)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2c37ed=_0xd10971;try{const {serialNumber:_0x1937be,name:_0x5abbe3,category:_0x21f731}=_0x9ed06e[_0x2c37ed(0x1ea)];if(!_0x1937be||!_0x5abbe3||!_0x21f731)return _0x25bab0['status'](0x190)['json']({'message':_0x2c37ed(0x244)});if(_0x1937be[_0x2c37ed(0x209)]()==='')return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':_0x2c37ed(0x238)});if(_0x21f731[_0x2c37ed(0x209)]()==='')return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':_0x2c37ed(0x225)});if(_0x5abbe3[_0x2c37ed(0x209)]()==='')return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':_0x2c37ed(0x20d)});if(_0x5abbe3['trim']()[_0x2c37ed(0x234)]>0x32)return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':'نام\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!'});if(_0x21f731[_0x2c37ed(0x209)]()['length']>0x32)return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':'دسته\x20بندی\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!'});const _0x6de818=yield device_entity_1[_0x2c37ed(0x1f7)][_0x2c37ed(0x205)](_0x1937be[_0x2c37ed(0x209)](),_0x9ed06e[_0x2c37ed(0x20f)],'save');if(!_0x6de818[_0x2c37ed(0x221)])return _0x25bab0[_0x2c37ed(0x237)](0x190)['json']({'message':_0x6de818[_0x2c37ed(0x247)]});if(_0x6de818[_0x2c37ed(0x20b)]==_0x2c37ed(0x21b)){const {model:_0x6503e3}=_0x9ed06e[_0x2c37ed(0x1ea)];if(!_0x6503e3)return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':'مدل\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!'});if(_0x6503e3[_0x2c37ed(0x209)]()==='')return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':_0x2c37ed(0x218)});if(_0x6503e3[_0x2c37ed(0x209)]()[_0x2c37ed(0x234)]>0x19)return _0x25bab0[_0x2c37ed(0x237)](0x190)[_0x2c37ed(0x248)]({'message':_0x2c37ed(0x219)});yield device_entity_1[_0x2c37ed(0x1f7)][_0x2c37ed(0x20e)](_0x1937be[_0x2c37ed(0x209)](),_0x6503e3[_0x2c37ed(0x209)](),_0x5abbe3[_0x2c37ed(0x209)](),_0x21f731[_0x2c37ed(0x209)](),_0x9ed06e[_0x2c37ed(0x20f)]);}else{if(_0x6de818['type']=='power'){let {power1:_0x2451b7,power2:_0x31ae87,power3:_0x43957f,power4:_0x5cd844,usb1:_0x5f1e5b,usb2:_0x122cf1}=_0x9ed06e[_0x2c37ed(0x1ea)];yield device_entity_1['default']['savePower'](_0x1937be[_0x2c37ed(0x209)](),_0x21f731[_0x2c37ed(0x209)](),_0x5abbe3[_0x2c37ed(0x209)](),_0x9ed06e[_0x2c37ed(0x20f)],_0x2451b7,_0x31ae87,_0x43957f,_0x5cd844,_0x5f1e5b,_0x122cf1);}}const _0xa49c48=yield device_entity_1[_0x2c37ed(0x1f7)][_0x2c37ed(0x226)](_0x9ed06e[_0x2c37ed(0x20f)]);return _0x25bab0[_0x2c37ed(0x248)]({'message':_0x2c37ed(0x23e),'devices':_0xa49c48});}catch(_0x5be60b){return console['error'](_0x2c37ed(0x208)),console['error'](_0x5be60b),_0x25bab0[_0x2c37ed(0x237)](0x1f4)[_0x2c37ed(0x248)]({'message':_0x2c37ed(0x1f6)});}});exports[_0xd10971(0x21e)]=saveDevice;const deleteDevice=(_0x1f7ac7,_0x19449f)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x55f0c8=_0xd10971;try{const {serialNumber:_0xa70576}=_0x1f7ac7[_0x55f0c8(0x1ea)];if(!_0xa70576)return _0x19449f[_0x55f0c8(0x237)](0x190)[_0x55f0c8(0x248)]({'message':_0x55f0c8(0x241)});const _0x5b1179=yield device_entity_1['default'][_0x55f0c8(0x205)](_0xa70576,_0x1f7ac7[_0x55f0c8(0x20f)],_0x55f0c8(0x1ee));if(!_0x5b1179[_0x55f0c8(0x221)])return _0x19449f[_0x55f0c8(0x237)](0x190)[_0x55f0c8(0x248)]({'message':_0x5b1179[_0x55f0c8(0x247)]});yield device_entity_1[_0x55f0c8(0x1f7)][_0x55f0c8(0x1f5)](_0xa70576,_0x5b1179[_0x55f0c8(0x20b)]);const _0x436b10=yield device_entity_1['default']['getAllDevices'](_0x1f7ac7[_0x55f0c8(0x20f)]);return _0x19449f[_0x55f0c8(0x248)]({'message':_0x55f0c8(0x207),'devices':_0x436b10});}catch(_0x1318da){return console[_0x55f0c8(0x210)](_0x55f0c8(0x22a)),console[_0x55f0c8(0x210)](_0x1318da),_0x19449f[_0x55f0c8(0x237)](0x1f4)[_0x55f0c8(0x248)]({'message':_0x55f0c8(0x1f6)});}});exports[_0xd10971(0x1ff)]=deleteDevice;const saveSchedule=(_0x4b8377,_0x4098f2)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5c7a36=_0xd10971;try{const {startTime:_0x195343,endTime:_0x16af0f,repeat:_0xd7e807,serialNumber:_0xc69b55,portNumber:_0x377398,id:_0x29a8b3,enable:_0x502543}=_0x4b8377['body'];if(!_0x195343&&!_0x16af0f)return _0x4098f2['status'](0x190)['json']({'message':'زمان\x20روشن\x20شدن\x20یا\x20زمان\x20خاموش\x20شدن\x20باید\x20انتخاب\x20شود'});if(!_0xc69b55||!_0xd7e807)return _0x4098f2[_0x5c7a36(0x237)](0x190)[_0x5c7a36(0x248)]({'message':'خطا\x20در\x20ورودی'});if(_0xc69b55[_0x5c7a36(0x209)]()==='')return _0x4098f2['status'](0x190)[_0x5c7a36(0x248)]({'message':_0x5c7a36(0x244)});if(!validator_1['default'][_0x5c7a36(0x1ef)](_0xd7e807))return _0x4098f2[_0x5c7a36(0x237)](0x190)[_0x5c7a36(0x248)]({'message':_0x5c7a36(0x22c)});if(_0x195343){if(!validator_1['default'][_0x5c7a36(0x233)](_0x195343))return _0x4098f2[_0x5c7a36(0x237)](0x190)[_0x5c7a36(0x248)]({'message':_0x5c7a36(0x21f)});}if(_0x16af0f){if(!validator_1[_0x5c7a36(0x1f7)][_0x5c7a36(0x233)](_0x16af0f))return _0x4098f2[_0x5c7a36(0x237)](0x190)[_0x5c7a36(0x248)]({'message':_0x5c7a36(0x246)});}const _0x50833e=yield device_entity_1[_0x5c7a36(0x1f7)][_0x5c7a36(0x205)](_0xc69b55,_0x4b8377['userId'],_0x5c7a36(0x202));if(!_0x50833e['valid'])return _0x4098f2[_0x5c7a36(0x237)](0x1f4)[_0x5c7a36(0x248)]({'message':_0x50833e['message']});if(_0x50833e[_0x5c7a36(0x20b)]===_0x5c7a36(0x23f)){if(!_0x377398)return _0x4098f2['status'](0x190)[_0x5c7a36(0x248)]({'message':_0x5c7a36(0x244)});}if(!_0x29a8b3)yield device_entity_1[_0x5c7a36(0x1f7)][_0x5c7a36(0x202)]({'serialNumber':_0xc69b55['trim'](),'startTime':_0x195343===null||_0x195343===void 0x0?void 0x0:_0x195343[_0x5c7a36(0x209)](),'endTime':_0x16af0f===null||_0x16af0f===void 0x0?void 0x0:_0x16af0f[_0x5c7a36(0x209)](),'repeat':_0xd7e807,'type':_0x50833e[_0x5c7a36(0x20b)],'portNumber':_0x377398});else{if(_0x502543===undefined||_0x502543==null)return _0x4098f2[_0x5c7a36(0x237)](0x190)[_0x5c7a36(0x248)]({'message':'خطا\x20در\x20ورودی'});if(typeof _0x502543!==_0x5c7a36(0x1ec))return _0x4098f2[_0x5c7a36(0x237)](0x190)[_0x5c7a36(0x248)]({'message':_0x5c7a36(0x244)});if(_0x29a8b3[_0x5c7a36(0x209)]()==='')return _0x4098f2[_0x5c7a36(0x237)](0x190)[_0x5c7a36(0x248)]({'message':_0x5c7a36(0x244)});if(!(0x0,mongoose_1[_0x5c7a36(0x214)])(_0x29a8b3))return _0x4098f2[_0x5c7a36(0x237)](0x190)['json']({'message':_0x5c7a36(0x244)});yield device_entity_1[_0x5c7a36(0x1f7)][_0x5c7a36(0x22b)]({'serialNumber':_0xc69b55,'startTime':_0x195343,'endTime':_0x16af0f,'repeat':_0xd7e807,'portNumber':_0x377398,'enable':_0x502543,'_id':new mongoose_1[(_0x5c7a36(0x200))][(_0x5c7a36(0x1fe))](_0x29a8b3),'type':_0x50833e[_0x5c7a36(0x20b)]});}const _0x27299e=yield device_entity_1[_0x5c7a36(0x1f7)]['getAllDevices'](_0x4b8377['userId']);return _0x4098f2[_0x5c7a36(0x248)]({'message':'تغییرات\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','devices':_0x27299e});}catch(_0x1b63b5){return console['error'](_0x5c7a36(0x23a)),console['error'](_0x1b63b5),_0x4098f2['status'](0x1f4)[_0x5c7a36(0x248)]({'message':'خطایی\x20پیش\x20آمده'});}});exports['saveSchedule']=saveSchedule;const deleteSchedule=(_0x2f4825,_0x24b034)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x59a995=_0xd10971;try{const {serialNumber:_0x3023eb,id:_0x13a8b6}=_0x2f4825[_0x59a995(0x1ea)];if(!_0x3023eb||!_0x13a8b6)return _0x24b034['status'](0x190)[_0x59a995(0x248)]({'message':_0x59a995(0x244)});if(_0x3023eb[_0x59a995(0x209)]()==='')return _0x24b034[_0x59a995(0x237)](0x190)[_0x59a995(0x248)]({'message':_0x59a995(0x244)});if(_0x13a8b6[_0x59a995(0x209)]()==='')return _0x24b034[_0x59a995(0x237)](0x190)[_0x59a995(0x248)]({'message':_0x59a995(0x244)});const _0x5b9ee1=yield device_entity_1['default']['validateSerialNumber'](_0x3023eb,_0x2f4825[_0x59a995(0x20f)],_0x59a995(0x1f2));if(!_0x5b9ee1[_0x59a995(0x221)])return _0x24b034[_0x59a995(0x237)](0x190)['json']({'message':_0x5b9ee1['message']});yield device_entity_1[_0x59a995(0x1f7)][_0x59a995(0x1f2)](_0x3023eb,new mongoose_1['Types'][(_0x59a995(0x1fe))](_0x13a8b6),_0x5b9ee1[_0x59a995(0x20b)]);const _0x4702ab=yield device_entity_1[_0x59a995(0x1f7)][_0x59a995(0x226)](_0x2f4825[_0x59a995(0x20f)]);return _0x24b034[_0x59a995(0x248)]({'message':_0x59a995(0x22f),'devices':_0x4702ab});}catch(_0x5aa160){return console['error'](_0x59a995(0x212)),console[_0x59a995(0x210)](_0x5aa160),_0x24b034[_0x59a995(0x237)](0x1f4)[_0x59a995(0x248)]({'message':_0x59a995(0x1f6)});}});exports[_0xd10971(0x1f2)]=deleteSchedule;function _0x53fc(){const _0xeac336=['2951431cOqJOq','isTime','length','نوع\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید','65793IsgGrS','status','شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید!','kickDevice','inside\x20add\x20schedule','then','done','defineProperty','دستگاه\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','power','../classes/broker_provider','خطا\x20در\x20ورودی!','powerExists','3128000EGhoWW','خطا\x20در\x20ورودی','chp-','فرمت\x20ساعت\x20خاموش\x20شدن\x20اشتباه\x20است','message','json','662634MkEACG','body','includes','boolean','../classes/validator','delete','isWeekDayArray','kickDeviceFromBroker','ورودی\x20نامعتبر!','deleteSchedule','__esModule','apply','deleteOwnerDevice','خطایی\x20پیش\x20آمده','default','__awaiter','deleteDeviceInStoreRoom','../entities/device.entity','3516024CbLccU','saveSchedule','76UOxvwb','ObjectId','deleteDevice','Types','user','addSchedule','value','deleteOwnerOfDevice','validateSerialNumber','ارتباط\x20دستگاه\x20با\x20موفقیت\x20با\x20سرور\x20قطع\x20شد','دستگاه\x20شما\x20با\x20موفقیت\x20حذف\x20شد','inside\x20add\x20device','trim','9851984IBbLpj','type','این\x20شماره\x20سریال\x20برای\x20دستگاه\x20دیگری\x20قبلا\x20ثبت\x20شده\x20است!','نام\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!','saveCooler','userId','error','toString','inside\x20delete\x20schedule','coolerExists','isValidObjectId','inside\x20remove\x20device','addDeviceCooler','fullName','مدل\x20کولر\x20را\x20وارد\x20نکرده\x20اید!','مدل\x20کولر\x20نمیتواند\x20بیش\x20تر\x20از\x20۲۵\x20کاراکتر\x20\x20باشد','inside\x20delete\x20device\x20site','cooler','serialNumber','دستگاه\x20مورد\x20نظر\x20با\x20موفقیت\x20حذف\x20شد!','saveDevice','فرمت\x20ساعت\x20روشن\x20شدن\x20اشتباه\x20است','removePower','valid','removeCooler','validateSerialNumberForAdmin','chc-','دسته\x20بندی\x20را\x20وارد\x20نکرده\x20اید!','getAllDevices','addUserToMnesia','addDevice','../entities/logs.entity','inside\x20delete\x20device','editSchedule','فرمت\x20انتخاب\x20روز\x20های\x20هفته\x20اشتباه\x20است','deviceExists','217589CrWATo','تغییرات\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','next','addCooler'];_0x53fc=function(){return _0xeac336;};return _0x53fc();}const deleteOwnerOfDevice=(_0x277c00,_0x486171)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5b882a=_0xd10971;try{const {serialNumber:_0x186fbc}=_0x277c00[_0x5b882a(0x1ea)];if(!_0x186fbc)return _0x486171['status'](0x190)[_0x5b882a(0x248)]({'message':_0x5b882a(0x241),'status':![]});const _0xb32419=yield device_entity_1['default'][_0x5b882a(0x223)](_0x186fbc);if(!_0xb32419[_0x5b882a(0x221)])return _0x486171[_0x5b882a(0x237)](0x190)[_0x5b882a(0x248)]({'message':_0xb32419[_0x5b882a(0x247)],'status':![]});return yield device_entity_1[_0x5b882a(0x1f7)][_0x5b882a(0x1f5)](_0x186fbc,_0xb32419[_0x5b882a(0x20b)]),_0x486171['json']({'message':_0x5b882a(0x207),'status':!![]});}catch(_0xdb1a14){return console[_0x5b882a(0x210)](_0x5b882a(0x21a)),console['error'](_0xdb1a14),_0x486171[_0x5b882a(0x237)](0x1f4)[_0x5b882a(0x248)]({'message':'خطایی\x20پیش\x20آمده'});}});exports[_0xd10971(0x204)]=deleteOwnerOfDevice;const kickDevice=(_0x3eb6b5,_0xeff4c4)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x47f276=_0xd10971;try{const {serialNumber:_0xdfa4ad}=_0x3eb6b5['body'];if(!_0xdfa4ad)return _0xeff4c4[_0x47f276(0x237)](0x190)['json']({'message':_0x47f276(0x241),'status':![]});const _0x21c386=yield device_entity_1[_0x47f276(0x1f7)][_0x47f276(0x223)](_0xdfa4ad);if(!_0x21c386[_0x47f276(0x221)])return _0xeff4c4['status'](0x190)[_0x47f276(0x248)]({'message':_0x21c386[_0x47f276(0x247)],'status':![]});return yield broker_provider_1['default'][_0x47f276(0x239)](_0xdfa4ad),yield logs_entity_1[_0x47f276(0x1f7)][_0x47f276(0x1f0)](_0xdfa4ad,_0x3eb6b5[_0x47f276(0x201)]['id'],_0x3eb6b5[_0x47f276(0x201)][_0x47f276(0x217)]),_0xeff4c4['json']({'message':_0x47f276(0x206),'status':!![]});}catch(_0x427c01){return console['error']('inside\x20kick\x20device'),console[_0x47f276(0x210)](_0x427c01),_0xeff4c4[_0x47f276(0x237)](0x1f4)[_0x47f276(0x248)]({'message':_0x47f276(0x1f6),'status':![]});}});function _0x4a0b(_0x55c22a,_0x3b6ba1){const _0x53fcdf=_0x53fc();return _0x4a0b=function(_0x4a0beb,_0x1d0920){_0x4a0beb=_0x4a0beb-0x1e9;let _0x31695b=_0x53fcdf[_0x4a0beb];return _0x31695b;},_0x4a0b(_0x55c22a,_0x3b6ba1);}exports[_0xd10971(0x239)]=kickDevice;const addDevice=(_0x37634a,_0x29a4fd)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x414b43=_0xd10971;try{const {password:_0xcdb555,type:_0x335f1f}=_0x37634a[_0x414b43(0x1ea)];let _0x3ef1eb=_0x37634a['body'][_0x414b43(0x21c)];if(!_0x3ef1eb||!_0xcdb555||!_0x335f1f)return _0x29a4fd[_0x414b43(0x237)](0x190)[_0x414b43(0x248)]({'status':![],'message':_0x414b43(0x244)});if(_0x3ef1eb['toString']()[_0x414b43(0x209)]()=='')return _0x29a4fd[_0x414b43(0x237)](0x190)['json']({'status':![],'message':'شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید'});if(_0xcdb555[_0x414b43(0x211)]()[_0x414b43(0x209)]()=='')return _0x29a4fd[_0x414b43(0x237)](0x190)[_0x414b43(0x248)]({'status':![],'message':'کلمه\x20عبور\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید'});if(_0x335f1f[_0x414b43(0x211)]()[_0x414b43(0x209)]()=='')return _0x29a4fd['status'](0x190)[_0x414b43(0x248)]({'status':![],'message':_0x414b43(0x235)});if(!['cooler',_0x414b43(0x23f)][_0x414b43(0x1eb)](_0x335f1f[_0x414b43(0x211)]()))return _0x29a4fd[_0x414b43(0x237)](0x190)['json']({'status':![],'message':_0x414b43(0x244)});if(yield device_entity_1[_0x414b43(0x1f7)][_0x414b43(0x22d)](_0x3ef1eb))return _0x29a4fd['status'](0x190)['json']({'status':![],'message':_0x414b43(0x20c)});let _0x396714=undefined;if(_0x335f1f==_0x414b43(0x23f))_0x3ef1eb=_0x414b43(0x245)+_0x3ef1eb,_0x396714=yield device_entity_1[_0x414b43(0x1f7)]['addPower'](_0x3ef1eb,_0xcdb555,_0x37634a[_0x414b43(0x201)]['id']),yield logs_entity_1[_0x414b43(0x1f7)]['addDevicePower'](_0x3ef1eb,_0x37634a[_0x414b43(0x201)]['id'],_0x396714);else _0x335f1f==_0x414b43(0x21b)&&(_0x3ef1eb=_0x414b43(0x224)+_0x3ef1eb,_0x396714=yield device_entity_1[_0x414b43(0x1f7)][_0x414b43(0x231)](_0x3ef1eb,_0xcdb555,_0x37634a[_0x414b43(0x201)]['id']),yield logs_entity_1[_0x414b43(0x1f7)][_0x414b43(0x216)](_0x3ef1eb,_0x37634a['user']['id'],_0x396714));return yield broker_provider_1['default'][_0x414b43(0x227)](_0x3ef1eb,_0xcdb555),_0x29a4fd[_0x414b43(0x248)]({'status':!![],'message':'دستگاه\x20با\x20موفقیت\x20اضافه\x20شد!'});}catch(_0x6b9179){return console[_0x414b43(0x210)](_0x414b43(0x208)),console[_0x414b43(0x210)](_0x6b9179),_0x29a4fd[_0x414b43(0x237)](0x1f4)[_0x414b43(0x248)]({'message':_0x414b43(0x1f6),'status':![]});}});exports['addDevice']=addDevice;const deleteDeviceInStoreRoom=(_0x19c91b,_0x2c08f5)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x435929=_0xd10971;try{const {serialNumber:_0x520460,type:_0x1e5321}=_0x19c91b[_0x435929(0x1ea)];if(!_0x520460||!_0x1e5321)return _0x2c08f5[_0x435929(0x237)](0x190)[_0x435929(0x248)]({'status':![],'message':_0x435929(0x1f1)});if(_0x520460['toString']()['trim']()=='')return _0x2c08f5['status'](0x190)[_0x435929(0x248)]({'status':![],'message':_0x435929(0x1f1)});if(_0x1e5321[_0x435929(0x211)]()['trim']()=='')return _0x2c08f5[_0x435929(0x237)](0x190)[_0x435929(0x248)]({'status':![],'message':_0x435929(0x1f1)});if(_0x1e5321==_0x435929(0x21b)){if(!(yield device_entity_1['default'][_0x435929(0x213)](_0x520460)))return _0x2c08f5['status'](0x190)['json']({'status':![],'message':_0x435929(0x1f1)});yield device_entity_1[_0x435929(0x1f7)][_0x435929(0x222)](_0x520460);}else{if(_0x1e5321==_0x435929(0x23f)){if(!(yield device_entity_1[_0x435929(0x1f7)][_0x435929(0x242)](_0x520460)))return _0x2c08f5[_0x435929(0x237)](0x190)[_0x435929(0x248)]({'status':![],'message':'ورودی\x20نامعتبر!'});yield device_entity_1['default'][_0x435929(0x220)](_0x520460);}}return _0x2c08f5[_0x435929(0x248)]({'status':!![],'message':_0x435929(0x21d)});}catch(_0x3d3050){return console[_0x435929(0x210)](_0x435929(0x215)),console[_0x435929(0x210)](_0x3d3050),_0x2c08f5[_0x435929(0x237)](0x1f4)['json']({'message':_0x435929(0x1f6),'status':![]});}});exports[_0xd10971(0x1f9)]=deleteDeviceInStoreRoom;