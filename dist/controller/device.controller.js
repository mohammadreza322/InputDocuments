'use strict';const _0x148c47=_0x1d8a;(function(_0x526621,_0x50a434){const _0x191842=_0x1d8a,_0x38df40=_0x526621();while(!![]){try{const _0x2dda54=parseInt(_0x191842(0x133))/0x1*(-parseInt(_0x191842(0x100))/0x2)+-parseInt(_0x191842(0x118))/0x3*(-parseInt(_0x191842(0xe6))/0x4)+parseInt(_0x191842(0x10b))/0x5+-parseInt(_0x191842(0xe5))/0x6*(parseInt(_0x191842(0x12c))/0x7)+parseInt(_0x191842(0x134))/0x8+parseInt(_0x191842(0x136))/0x9+parseInt(_0x191842(0x115))/0xa*(-parseInt(_0x191842(0xe8))/0xb);if(_0x2dda54===_0x50a434)break;else _0x38df40['push'](_0x38df40['shift']());}catch(_0x48cd9c){_0x38df40['push'](_0x38df40['shift']());}}}(_0x8b40,0x92ef8));var __awaiter=this&&this['__awaiter']||function(_0x4134d4,_0x34ccd9,_0x4d878f,_0x5a9f07){function _0xffff69(_0x4a84af){return _0x4a84af instanceof _0x4d878f?_0x4a84af:new _0x4d878f(function(_0x39ba95){_0x39ba95(_0x4a84af);});}return new(_0x4d878f||(_0x4d878f=Promise))(function(_0x13f48b,_0x421ce5){const _0x187f73=_0x1d8a;function _0x2a404(_0x3d5ad5){const _0xae6ed3=_0x1d8a;try{_0x23ce99(_0x5a9f07[_0xae6ed3(0x102)](_0x3d5ad5));}catch(_0x599986){_0x421ce5(_0x599986);}}function _0xe7d20e(_0xb4fc4){const _0x3a3acf=_0x1d8a;try{_0x23ce99(_0x5a9f07[_0x3a3acf(0xf9)](_0xb4fc4));}catch(_0x511ed4){_0x421ce5(_0x511ed4);}}function _0x23ce99(_0x2e5502){const _0x27f8c1=_0x1d8a;_0x2e5502['done']?_0x13f48b(_0x2e5502[_0x27f8c1(0x111)]):_0xffff69(_0x2e5502['value'])[_0x27f8c1(0xfb)](_0x2a404,_0xe7d20e);}_0x23ce99((_0x5a9f07=_0x5a9f07[_0x187f73(0xea)](_0x4134d4,_0x34ccd9||[]))[_0x187f73(0x102)]());});},__importDefault=this&&this['__importDefault']||function(_0x321ba6){return _0x321ba6&&_0x321ba6['__esModule']?_0x321ba6:{'default':_0x321ba6};};Object[_0x148c47(0x129)](exports,_0x148c47(0x11f),{'value':!![]}),exports[_0x148c47(0x122)]=exports[_0x148c47(0x10a)]=exports[_0x148c47(0xef)]=exports[_0x148c47(0x119)]=exports['deleteSchedule']=exports[_0x148c47(0xe4)]=exports[_0x148c47(0xf8)]=exports[_0x148c47(0x135)]=void 0x0;const mongoose_1=require(_0x148c47(0x11c)),validator_1=__importDefault(require(_0x148c47(0xf3))),device_entity_1=__importDefault(require('../entities/device.entity')),broker_provider_1=__importDefault(require(_0x148c47(0x106))),logs_entity_1=__importDefault(require('../entities/logs.entity')),saveDevice=(_0x3c4625,_0x4ae28a)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x32cd68=_0x148c47;try{const {serialNumber:_0x16b071,name:_0x30210a,category:_0x5bb71b}=_0x3c4625['body'];if(!_0x16b071||!_0x30210a||!_0x5bb71b)return _0x4ae28a['status'](0x190)['json']({'message':_0x32cd68(0x125)});if(_0x16b071['trim']()==='')return _0x4ae28a['status'](0x190)[_0x32cd68(0x124)]({'message':_0x32cd68(0x109)});if(_0x5bb71b[_0x32cd68(0x104)]()==='')return _0x4ae28a[_0x32cd68(0xed)](0x190)['json']({'message':_0x32cd68(0x12b)});if(_0x30210a['trim']()==='')return _0x4ae28a[_0x32cd68(0xed)](0x190)[_0x32cd68(0x124)]({'message':_0x32cd68(0x10f)});if(_0x30210a[_0x32cd68(0x104)]()[_0x32cd68(0x107)]>0x32)return _0x4ae28a[_0x32cd68(0xed)](0x190)[_0x32cd68(0x124)]({'message':_0x32cd68(0x130)});if(_0x5bb71b[_0x32cd68(0x104)]()[_0x32cd68(0x107)]>0x32)return _0x4ae28a[_0x32cd68(0xed)](0x190)[_0x32cd68(0x124)]({'message':_0x32cd68(0xec)});const _0x32c1f8=yield device_entity_1[_0x32cd68(0xf7)]['validateSerialNumber'](_0x16b071[_0x32cd68(0x104)](),_0x3c4625['userId'],_0x32cd68(0x110));if(!_0x32c1f8['valid'])return _0x4ae28a[_0x32cd68(0xed)](0x190)['json']({'message':_0x32c1f8[_0x32cd68(0x131)]});if(_0x32c1f8[_0x32cd68(0xff)]==_0x32cd68(0x12a)){const {model:_0x135680}=_0x3c4625[_0x32cd68(0x10d)];if(!_0x135680)return _0x4ae28a[_0x32cd68(0xed)](0x190)['json']({'message':'مدل\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!'});if(_0x135680['trim']()==='')return _0x4ae28a[_0x32cd68(0xed)](0x190)[_0x32cd68(0x124)]({'message':_0x32cd68(0x121)});if(_0x135680[_0x32cd68(0x104)]()[_0x32cd68(0x107)]>0x19)return _0x4ae28a[_0x32cd68(0xed)](0x190)[_0x32cd68(0x124)]({'message':_0x32cd68(0xfd)});yield device_entity_1[_0x32cd68(0xf7)][_0x32cd68(0x11e)](_0x16b071[_0x32cd68(0x104)](),_0x135680[_0x32cd68(0x104)](),_0x30210a[_0x32cd68(0x104)](),_0x5bb71b[_0x32cd68(0x104)](),_0x3c4625[_0x32cd68(0x108)]);}else{if(_0x32c1f8[_0x32cd68(0xff)]==_0x32cd68(0xe3)){let {power1:_0x3ef5c1,power2:_0x105b15,power3:_0x5e623e,power4:_0x2e9103,usb1:_0xdf0f1,usb2:_0x1333c2}=_0x3c4625[_0x32cd68(0x10d)];yield device_entity_1[_0x32cd68(0xf7)][_0x32cd68(0xfe)](_0x16b071[_0x32cd68(0x104)](),_0x5bb71b[_0x32cd68(0x104)](),_0x30210a['trim'](),_0x3c4625[_0x32cd68(0x108)],_0x3ef5c1,_0x105b15,_0x5e623e,_0x2e9103,_0xdf0f1,_0x1333c2);}}const _0x307f3f=yield device_entity_1[_0x32cd68(0xf7)][_0x32cd68(0x13a)](_0x3c4625[_0x32cd68(0x108)]);return _0x4ae28a['json']({'message':'دستگاه\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','devices':_0x307f3f});}catch(_0x409756){return console[_0x32cd68(0x132)](_0x32cd68(0xe9)),console['error'](_0x409756),_0x4ae28a[_0x32cd68(0xed)](0x1f4)[_0x32cd68(0x124)]({'message':'خطایی\x20پیش\x20آمده'});}});exports['saveDevice']=saveDevice;const deleteDevice=(_0x28e04b,_0x573a6a)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x337f8a=_0x148c47;try{const {serialNumber:_0x974a19}=_0x28e04b['body'];if(!_0x974a19)return _0x573a6a['status'](0x190)['json']({'message':_0x337f8a(0x126)});const _0x222d70=yield device_entity_1[_0x337f8a(0xf7)][_0x337f8a(0xdf)](_0x974a19,_0x28e04b['userId'],_0x337f8a(0xeb));if(!_0x222d70[_0x337f8a(0x127)])return _0x573a6a[_0x337f8a(0xed)](0x190)[_0x337f8a(0x124)]({'message':_0x222d70[_0x337f8a(0x131)]});yield device_entity_1[_0x337f8a(0xf7)][_0x337f8a(0xf4)](_0x974a19,_0x222d70[_0x337f8a(0xff)]);const _0x4c8d07=yield device_entity_1[_0x337f8a(0xf7)][_0x337f8a(0x13a)](_0x28e04b[_0x337f8a(0x108)]);return _0x573a6a[_0x337f8a(0x124)]({'message':_0x337f8a(0xe1),'devices':_0x4c8d07});}catch(_0x325579){return console['error']('inside\x20delete\x20device'),console[_0x337f8a(0x132)](_0x325579),_0x573a6a[_0x337f8a(0xed)](0x1f4)[_0x337f8a(0x124)]({'message':_0x337f8a(0xf1)});}});exports[_0x148c47(0xf8)]=deleteDevice;const saveSchedule=(_0xc8a775,_0x43957b)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x497582=_0x148c47;try{const {startTime:_0x326973,endTime:_0x377422,repeat:_0x5ddac6,serialNumber:_0x1cdaa4,portNumber:_0x285187,id:_0x27408d,enable:_0x6f35bd}=_0xc8a775[_0x497582(0x10d)];if(!_0x326973&&!_0x377422)return _0x43957b[_0x497582(0xed)](0x190)['json']({'message':_0x497582(0xf2)});if(!_0x1cdaa4||!_0x5ddac6)return _0x43957b['status'](0x190)[_0x497582(0x124)]({'message':'خطا\x20در\x20ورودی'});if(_0x1cdaa4[_0x497582(0x104)]()==='')return _0x43957b[_0x497582(0xed)](0x190)['json']({'message':_0x497582(0x125)});if(!validator_1[_0x497582(0xf7)]['isWeekDayArray'](_0x5ddac6))return _0x43957b[_0x497582(0xed)](0x190)[_0x497582(0x124)]({'message':_0x497582(0xe7)});if(_0x326973){if(!validator_1[_0x497582(0xf7)][_0x497582(0x11d)](_0x326973))return _0x43957b[_0x497582(0xed)](0x190)[_0x497582(0x124)]({'message':_0x497582(0x137)});}if(_0x377422){if(!validator_1[_0x497582(0xf7)]['isTime'](_0x377422))return _0x43957b[_0x497582(0xed)](0x190)['json']({'message':_0x497582(0xf5)});}const _0x5ce30f=yield device_entity_1[_0x497582(0xf7)]['validateSerialNumber'](_0x1cdaa4,_0xc8a775[_0x497582(0x108)],_0x497582(0x10e));if(!_0x5ce30f['valid'])return _0x43957b['status'](0x1f4)[_0x497582(0x124)]({'message':_0x5ce30f[_0x497582(0x131)]});if(_0x5ce30f['type']===_0x497582(0xe3)){if(!_0x285187)return _0x43957b[_0x497582(0xed)](0x190)[_0x497582(0x124)]({'message':_0x497582(0x125)});}if(!_0x27408d)yield device_entity_1[_0x497582(0xf7)][_0x497582(0x10e)]({'serialNumber':_0x1cdaa4['trim'](),'startTime':_0x326973===null||_0x326973===void 0x0?void 0x0:_0x326973[_0x497582(0x104)](),'endTime':_0x377422===null||_0x377422===void 0x0?void 0x0:_0x377422['trim'](),'repeat':_0x5ddac6,'type':_0x5ce30f['type'],'portNumber':_0x285187});else{if(_0x6f35bd===undefined||_0x6f35bd==null)return _0x43957b[_0x497582(0xed)](0x190)[_0x497582(0x124)]({'message':_0x497582(0x125)});if(typeof _0x6f35bd!=='boolean')return _0x43957b[_0x497582(0xed)](0x190)[_0x497582(0x124)]({'message':_0x497582(0x125)});if(_0x27408d[_0x497582(0x104)]()==='')return _0x43957b['status'](0x190)[_0x497582(0x124)]({'message':_0x497582(0x125)});if(!(0x0,mongoose_1['isValidObjectId'])(_0x27408d))return _0x43957b[_0x497582(0xed)](0x190)[_0x497582(0x124)]({'message':_0x497582(0x125)});yield device_entity_1[_0x497582(0xf7)][_0x497582(0x128)]({'serialNumber':_0x1cdaa4,'startTime':_0x326973,'endTime':_0x377422,'repeat':_0x5ddac6,'portNumber':_0x285187,'enable':_0x6f35bd,'_id':new mongoose_1[(_0x497582(0x113))][(_0x497582(0x123))](_0x27408d),'type':_0x5ce30f['type']});}const _0x3dd79d=yield device_entity_1[_0x497582(0xf7)][_0x497582(0x13a)](_0xc8a775[_0x497582(0x108)]);return _0x43957b[_0x497582(0x124)]({'message':'تغییرات\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','devices':_0x3dd79d});}catch(_0x21f4de){return console['error']('inside\x20add\x20schedule'),console[_0x497582(0x132)](_0x21f4de),_0x43957b[_0x497582(0xed)](0x1f4)['json']({'message':'خطایی\x20پیش\x20آمده'});}});exports[_0x148c47(0xe4)]=saveSchedule;const deleteSchedule=(_0x3b7a36,_0x5d19be)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x8e016a=_0x148c47;try{const {serialNumber:_0x5cd291,id:_0x183fc1}=_0x3b7a36['body'];if(!_0x5cd291||!_0x183fc1)return _0x5d19be['status'](0x190)['json']({'message':'خطا\x20در\x20ورودی'});if(_0x5cd291[_0x8e016a(0x104)]()==='')return _0x5d19be[_0x8e016a(0xed)](0x190)[_0x8e016a(0x124)]({'message':_0x8e016a(0x125)});if(_0x183fc1[_0x8e016a(0x104)]()==='')return _0x5d19be[_0x8e016a(0xed)](0x190)[_0x8e016a(0x124)]({'message':'خطا\x20در\x20ورودی'});const _0x4ee941=yield device_entity_1[_0x8e016a(0xf7)][_0x8e016a(0xdf)](_0x5cd291,_0x3b7a36[_0x8e016a(0x108)],_0x8e016a(0x120));if(!_0x4ee941[_0x8e016a(0x127)])return _0x5d19be['status'](0x190)[_0x8e016a(0x124)]({'message':_0x4ee941[_0x8e016a(0x131)]});yield device_entity_1[_0x8e016a(0xf7)][_0x8e016a(0x120)](_0x5cd291,new mongoose_1[(_0x8e016a(0x113))]['ObjectId'](_0x183fc1),_0x4ee941[_0x8e016a(0xff)]);const _0x1b2183=yield device_entity_1[_0x8e016a(0xf7)][_0x8e016a(0x13a)](_0x3b7a36[_0x8e016a(0x108)]);return _0x5d19be[_0x8e016a(0x124)]({'message':_0x8e016a(0x116),'devices':_0x1b2183});}catch(_0x391540){return console[_0x8e016a(0x132)]('inside\x20delete\x20schedule'),console[_0x8e016a(0x132)](_0x391540),_0x5d19be[_0x8e016a(0xed)](0x1f4)['json']({'message':_0x8e016a(0xf1)});}});function _0x8b40(){const _0x74951c=['inside\x20remove\x20device','next','addDeviceCooler','trim','chc-','../classes/broker_provider','length','userId','شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید!','addDevice','2226165FUBEYy','دستگاه\x20با\x20موفقیت\x20اضافه\x20شد!','body','addSchedule','نام\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!','save','value','powerExists','Types','toString','104810PYWRwk','تغییرات\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','این\x20شماره\x20سریال\x20برای\x20دستگاه\x20دیگری\x20قبلا\x20ثبت\x20شده\x20است!','1371hfjflV','deleteOwnerOfDevice','validateSerialNumberForAdmin','کلمه\x20عبور\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید','mongoose','isTime','saveCooler','__esModule','deleteSchedule','مدل\x20کولر\x20را\x20وارد\x20نکرده\x20اید!','deleteDeviceInStoreRoom','ObjectId','json','خطا\x20در\x20ورودی','خطا\x20در\x20ورودی!','valid','editSchedule','defineProperty','cooler','دسته\x20بندی\x20را\x20وارد\x20نکرده\x20اید!','98oDmIVi','addCooler','شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید','addDevicePower','نام\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!','message','error','95RasYTl','4591328ymOOnE','saveDevice','9971280VEIgUE','فرمت\x20ساعت\x20روشن\x20شدن\x20اشتباه\x20است','ورودی\x20نامعتبر!','addPower','getAllDevices','removeCooler','serialNumber','validateSerialNumber','ارتباط\x20دستگاه\x20با\x20موفقیت\x20با\x20سرور\x20قطع\x20شد','دستگاه\x20شما\x20با\x20موفقیت\x20حذف\x20شد','inside\x20delete\x20device\x20site','power','saveSchedule','234996SqeUmW','1636lEnbQB','فرمت\x20انتخاب\x20روز\x20های\x20هفته\x20اشتباه\x20است','55LdhwDp','inside\x20add\x20device','apply','delete','دسته\x20بندی\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!','status','inside\x20kick\x20device','kickDevice','user','خطایی\x20پیش\x20آمده','زمان\x20روشن\x20شدن\x20یا\x20زمان\x20خاموش\x20شدن\x20باید\x20انتخاب\x20شود','../classes/validator','deleteOwnerDevice','فرمت\x20ساعت\x20خاموش\x20شدن\x20اشتباه\x20است','removePower','default','deleteDevice','throw','includes','then','deviceExists','مدل\x20کولر\x20نمیتواند\x20بیش\x20تر\x20از\x20۲۵\x20کاراکتر\x20\x20باشد','savePower','type','23398EdOtQh'];_0x8b40=function(){return _0x74951c;};return _0x8b40();}exports[_0x148c47(0x120)]=deleteSchedule;const deleteOwnerOfDevice=(_0x1c4b93,_0x31e5d4)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3aa6f6=_0x148c47;try{const {serialNumber:_0x15fff0}=_0x1c4b93['body'];if(!_0x15fff0)return _0x31e5d4[_0x3aa6f6(0xed)](0x190)[_0x3aa6f6(0x124)]({'message':_0x3aa6f6(0x126),'status':![]});const _0x24e9c0=yield device_entity_1[_0x3aa6f6(0xf7)]['validateSerialNumberForAdmin'](_0x15fff0);if(!_0x24e9c0['valid'])return _0x31e5d4[_0x3aa6f6(0xed)](0x190)[_0x3aa6f6(0x124)]({'message':_0x24e9c0[_0x3aa6f6(0x131)],'status':![]});return yield device_entity_1[_0x3aa6f6(0xf7)]['deleteOwnerDevice'](_0x15fff0,_0x24e9c0['type']),_0x31e5d4['json']({'message':'دستگاه\x20شما\x20با\x20موفقیت\x20حذف\x20شد','status':!![]});}catch(_0x4ea1f9){return console[_0x3aa6f6(0x132)](_0x3aa6f6(0xe2)),console[_0x3aa6f6(0x132)](_0x4ea1f9),_0x31e5d4[_0x3aa6f6(0xed)](0x1f4)[_0x3aa6f6(0x124)]({'message':_0x3aa6f6(0xf1)});}});exports[_0x148c47(0x119)]=deleteOwnerOfDevice;const kickDevice=(_0x22660e,_0x5bfb31)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1d6fa4=_0x148c47;try{const {serialNumber:_0x3fb8e0}=_0x22660e[_0x1d6fa4(0x10d)];if(!_0x3fb8e0)return _0x5bfb31[_0x1d6fa4(0xed)](0x190)[_0x1d6fa4(0x124)]({'message':'خطا\x20در\x20ورودی!','status':![]});const _0x52ba92=yield device_entity_1[_0x1d6fa4(0xf7)][_0x1d6fa4(0x11a)](_0x3fb8e0);if(!_0x52ba92[_0x1d6fa4(0x127)])return _0x5bfb31[_0x1d6fa4(0xed)](0x190)[_0x1d6fa4(0x124)]({'message':_0x52ba92[_0x1d6fa4(0x131)],'status':![]});return yield broker_provider_1[_0x1d6fa4(0xf7)][_0x1d6fa4(0xef)](_0x3fb8e0),yield logs_entity_1[_0x1d6fa4(0xf7)]['kickDeviceFromBroker'](_0x3fb8e0,_0x22660e[_0x1d6fa4(0xf0)]['id'],_0x22660e[_0x1d6fa4(0xf0)]['fullName']),_0x5bfb31[_0x1d6fa4(0x124)]({'message':_0x1d6fa4(0xe0),'status':!![]});}catch(_0x3d3cd8){return console[_0x1d6fa4(0x132)](_0x1d6fa4(0xee)),console['error'](_0x3d3cd8),_0x5bfb31[_0x1d6fa4(0xed)](0x1f4)[_0x1d6fa4(0x124)]({'message':_0x1d6fa4(0xf1),'status':![]});}});exports[_0x148c47(0xef)]=kickDevice;const addDevice=(_0x25b893,_0x4660bc)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x40c50c=_0x148c47;try{const {password:_0x5a0949,type:_0x23578c}=_0x25b893['body'];let _0x3bcb30=_0x25b893['body'][_0x40c50c(0x13c)];if(!_0x3bcb30||!_0x5a0949||!_0x23578c)return _0x4660bc[_0x40c50c(0xed)](0x190)[_0x40c50c(0x124)]({'status':![],'message':_0x40c50c(0x125)});if(_0x3bcb30['toString']()[_0x40c50c(0x104)]()=='')return _0x4660bc[_0x40c50c(0xed)](0x190)[_0x40c50c(0x124)]({'status':![],'message':_0x40c50c(0x12e)});if(_0x5a0949[_0x40c50c(0x114)]()[_0x40c50c(0x104)]()=='')return _0x4660bc[_0x40c50c(0xed)](0x190)[_0x40c50c(0x124)]({'status':![],'message':_0x40c50c(0x11b)});if(_0x23578c[_0x40c50c(0x114)]()[_0x40c50c(0x104)]()=='')return _0x4660bc[_0x40c50c(0xed)](0x190)[_0x40c50c(0x124)]({'status':![],'message':'نوع\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید'});if(![_0x40c50c(0x12a),_0x40c50c(0xe3)][_0x40c50c(0xfa)](_0x23578c[_0x40c50c(0x114)]()))return _0x4660bc[_0x40c50c(0xed)](0x190)['json']({'status':![],'message':_0x40c50c(0x125)});if(yield device_entity_1[_0x40c50c(0xf7)][_0x40c50c(0xfc)](_0x3bcb30))return _0x4660bc[_0x40c50c(0xed)](0x190)['json']({'status':![],'message':_0x40c50c(0x117)});let _0x3c8835=undefined;if(_0x23578c==_0x40c50c(0xe3))_0x3bcb30='chp-'+_0x3bcb30,_0x3c8835=yield device_entity_1['default'][_0x40c50c(0x139)](_0x3bcb30,_0x5a0949,_0x25b893[_0x40c50c(0xf0)]['id']),yield logs_entity_1[_0x40c50c(0xf7)][_0x40c50c(0x12f)](_0x3bcb30,_0x25b893[_0x40c50c(0xf0)]['id'],_0x3c8835);else _0x23578c==_0x40c50c(0x12a)&&(_0x3bcb30=_0x40c50c(0x105)+_0x3bcb30,_0x3c8835=yield device_entity_1[_0x40c50c(0xf7)][_0x40c50c(0x12d)](_0x3bcb30,_0x5a0949,_0x25b893[_0x40c50c(0xf0)]['id']),yield logs_entity_1[_0x40c50c(0xf7)][_0x40c50c(0x103)](_0x3bcb30,_0x25b893[_0x40c50c(0xf0)]['id'],_0x3c8835));return yield broker_provider_1[_0x40c50c(0xf7)]['addUserToMnesia'](_0x3bcb30,_0x5a0949),_0x4660bc[_0x40c50c(0x124)]({'status':!![],'message':_0x40c50c(0x10c)});}catch(_0x4786ce){return console['error'](_0x40c50c(0xe9)),console[_0x40c50c(0x132)](_0x4786ce),_0x4660bc[_0x40c50c(0xed)](0x1f4)['json']({'message':_0x40c50c(0xf1),'status':![]});}});function _0x1d8a(_0x58f027,_0x5c0924){const _0x8b40dd=_0x8b40();return _0x1d8a=function(_0x1d8a32,_0x392a7f){_0x1d8a32=_0x1d8a32-0xdf;let _0x483bc7=_0x8b40dd[_0x1d8a32];return _0x483bc7;},_0x1d8a(_0x58f027,_0x5c0924);}exports[_0x148c47(0x10a)]=addDevice;const deleteDeviceInStoreRoom=(_0x348bc7,_0x37a4e7)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x23c063=_0x148c47;try{const {serialNumber:_0x184c5a,type:_0x5009ad}=_0x348bc7[_0x23c063(0x10d)];if(!_0x184c5a||!_0x5009ad)return _0x37a4e7['status'](0x190)[_0x23c063(0x124)]({'status':![],'message':_0x23c063(0x138)});if(_0x184c5a[_0x23c063(0x114)]()[_0x23c063(0x104)]()=='')return _0x37a4e7[_0x23c063(0xed)](0x190)[_0x23c063(0x124)]({'status':![],'message':_0x23c063(0x138)});if(_0x5009ad[_0x23c063(0x114)]()[_0x23c063(0x104)]()=='')return _0x37a4e7[_0x23c063(0xed)](0x190)['json']({'status':![],'message':_0x23c063(0x138)});if(_0x5009ad=='cooler'){if(!(yield device_entity_1['default']['coolerExists'](_0x184c5a)))return _0x37a4e7[_0x23c063(0xed)](0x190)[_0x23c063(0x124)]({'status':![],'message':_0x23c063(0x138)});yield device_entity_1['default'][_0x23c063(0x13b)](_0x184c5a);}else{if(_0x5009ad==_0x23c063(0xe3)){if(!(yield device_entity_1[_0x23c063(0xf7)][_0x23c063(0x112)](_0x184c5a)))return _0x37a4e7[_0x23c063(0xed)](0x190)[_0x23c063(0x124)]({'status':![],'message':'ورودی\x20نامعتبر!'});yield device_entity_1[_0x23c063(0xf7)][_0x23c063(0xf6)](_0x184c5a);}}return _0x37a4e7[_0x23c063(0x124)]({'status':!![],'message':'دستگاه\x20مورد\x20نظر\x20با\x20موفقیت\x20حذف\x20شد!'});}catch(_0x35efbc){return console['error'](_0x23c063(0x101)),console[_0x23c063(0x132)](_0x35efbc),_0x37a4e7[_0x23c063(0xed)](0x1f4)[_0x23c063(0x124)]({'message':'خطایی\x20پیش\x20آمده','status':![]});}});exports['deleteDeviceInStoreRoom']=deleteDeviceInStoreRoom;