'use strict';const _0x1737a0=_0x34e2;(function(_0xd162f3,_0x4c4bb7){const _0x25070d=_0x34e2,_0x4aa43b=_0xd162f3();while(!![]){try{const _0x2a1ad5=-parseInt(_0x25070d(0xe3))/0x1+parseInt(_0x25070d(0x132))/0x2+parseInt(_0x25070d(0x138))/0x3+parseInt(_0x25070d(0x108))/0x4*(-parseInt(_0x25070d(0xe6))/0x5)+-parseInt(_0x25070d(0x12d))/0x6*(-parseInt(_0x25070d(0x133))/0x7)+-parseInt(_0x25070d(0x117))/0x8+parseInt(_0x25070d(0x115))/0x9;if(_0x2a1ad5===_0x4c4bb7)break;else _0x4aa43b['push'](_0x4aa43b['shift']());}catch(_0x180da5){_0x4aa43b['push'](_0x4aa43b['shift']());}}}(_0x1829,0xa381b));var __awaiter=this&&this[_0x1737a0(0x12f)]||function(_0x4c6e90,_0x5d7b94,_0x2df639,_0x12c358){function _0x2512f0(_0x354dbd){return _0x354dbd instanceof _0x2df639?_0x354dbd:new _0x2df639(function(_0x343ffc){_0x343ffc(_0x354dbd);});}return new(_0x2df639||(_0x2df639=Promise))(function(_0x54651a,_0x44d984){const _0x593d1b=_0x34e2;function _0x1500d1(_0x9ec65d){const _0x2bd2ec=_0x34e2;try{_0x311f75(_0x12c358[_0x2bd2ec(0x11b)](_0x9ec65d));}catch(_0x95c867){_0x44d984(_0x95c867);}}function _0x4726f2(_0x327213){const _0xdb9753=_0x34e2;try{_0x311f75(_0x12c358[_0xdb9753(0xfa)](_0x327213));}catch(_0x30bbec){_0x44d984(_0x30bbec);}}function _0x311f75(_0x5a4d23){const _0x57170b=_0x34e2;_0x5a4d23[_0x57170b(0x123)]?_0x54651a(_0x5a4d23['value']):_0x2512f0(_0x5a4d23['value'])['then'](_0x1500d1,_0x4726f2);}_0x311f75((_0x12c358=_0x12c358[_0x593d1b(0x124)](_0x4c6e90,_0x5d7b94||[]))[_0x593d1b(0x11b)]());});},__importDefault=this&&this[_0x1737a0(0x121)]||function(_0x53680a){return _0x53680a&&_0x53680a['__esModule']?_0x53680a:{'default':_0x53680a};};Object['defineProperty'](exports,_0x1737a0(0xf7),{'value':!![]}),exports[_0x1737a0(0x104)]=exports[_0x1737a0(0x10b)]=exports[_0x1737a0(0xf9)]=exports[_0x1737a0(0x109)]=exports[_0x1737a0(0x118)]=exports[_0x1737a0(0x102)]=exports[_0x1737a0(0xe7)]=exports[_0x1737a0(0x101)]=void 0x0;const mongoose_1=require(_0x1737a0(0xfc)),validator_1=__importDefault(require(_0x1737a0(0x137))),device_entity_1=__importDefault(require('../entities/device.entity')),broker_provider_1=__importDefault(require(_0x1737a0(0x12e))),logs_entity_1=__importDefault(require('../entities/logs.entity')),saveDevice=(_0x89891d,_0x4f6318)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x37f60e=_0x1737a0;try{const {serialNumber:_0x68b242,name:_0x418f55,category:_0x4ac38f}=_0x89891d[_0x37f60e(0x111)];if(!_0x68b242||!_0x418f55||!_0x4ac38f)return _0x4f6318[_0x37f60e(0x126)](0x190)[_0x37f60e(0xff)]({'message':_0x37f60e(0xf8)});if(_0x68b242['trim']()==='')return _0x4f6318['status'](0x190)[_0x37f60e(0xff)]({'message':'شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید!'});if(_0x4ac38f[_0x37f60e(0xe9)]()==='')return _0x4f6318['status'](0x190)[_0x37f60e(0xff)]({'message':'دسته\x20بندی\x20را\x20وارد\x20نکرده\x20اید!'});if(_0x418f55[_0x37f60e(0xe9)]()==='')return _0x4f6318[_0x37f60e(0x126)](0x190)[_0x37f60e(0xff)]({'message':_0x37f60e(0xe4)});if(_0x418f55[_0x37f60e(0xe9)]()['length']>0x32)return _0x4f6318[_0x37f60e(0x126)](0x190)[_0x37f60e(0xff)]({'message':_0x37f60e(0x11a)});if(_0x4ac38f['trim']()['length']>0x32)return _0x4f6318[_0x37f60e(0x126)](0x190)[_0x37f60e(0xff)]({'message':_0x37f60e(0xfb)});const _0x585c54=yield device_entity_1[_0x37f60e(0x107)][_0x37f60e(0xfe)](_0x68b242['trim'](),_0x89891d['userId'],_0x37f60e(0x136));if(!_0x585c54['valid'])return _0x4f6318['status'](0x190)[_0x37f60e(0xff)]({'message':_0x585c54[_0x37f60e(0xf3)]});if(_0x585c54[_0x37f60e(0x10a)]==_0x37f60e(0x128)){const {model:_0x7bf95d}=_0x89891d[_0x37f60e(0x111)];if(!_0x7bf95d)return _0x4f6318[_0x37f60e(0x126)](0x190)[_0x37f60e(0xff)]({'message':'مدل\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!'});if(_0x7bf95d[_0x37f60e(0xe9)]()==='')return _0x4f6318[_0x37f60e(0x126)](0x190)[_0x37f60e(0xff)]({'message':_0x37f60e(0x10c)});if(_0x7bf95d[_0x37f60e(0xe9)]()[_0x37f60e(0xed)]>0x19)return _0x4f6318[_0x37f60e(0x126)](0x190)['json']({'message':_0x37f60e(0x10e)});yield device_entity_1[_0x37f60e(0x107)]['saveCooler'](_0x68b242[_0x37f60e(0xe9)](),_0x7bf95d[_0x37f60e(0xe9)](),_0x418f55[_0x37f60e(0xe9)](),_0x4ac38f[_0x37f60e(0xe9)](),_0x89891d[_0x37f60e(0x11d)]);}else{if(_0x585c54['type']==_0x37f60e(0x130)){let {power1:_0x1cb057,power2:_0x250430,power3:_0x5cbca4,power4:_0x5d953b,usb1:_0x41edeb,usb2:_0xf02236}=_0x89891d[_0x37f60e(0x111)];yield device_entity_1[_0x37f60e(0x107)]['savePower'](_0x68b242[_0x37f60e(0xe9)](),_0x4ac38f[_0x37f60e(0xe9)](),_0x418f55['trim'](),_0x89891d[_0x37f60e(0x11d)],_0x1cb057,_0x250430,_0x5cbca4,_0x5d953b,_0x41edeb,_0xf02236);}}const _0x53c211=yield device_entity_1[_0x37f60e(0x107)]['getAllDevices'](_0x89891d[_0x37f60e(0x11d)]);return _0x4f6318['json']({'message':'دستگاه\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','devices':_0x53c211});}catch(_0x330e63){return console[_0x37f60e(0x120)](_0x37f60e(0x11f)),console[_0x37f60e(0x120)](_0x330e63),_0x4f6318[_0x37f60e(0x126)](0x1f4)['json']({'message':_0x37f60e(0xec)});}});exports['saveDevice']=saveDevice;const deleteDevice=(_0x5cc365,_0x2d1b1b)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4fd3b2=_0x1737a0;try{const {serialNumber:_0x22a75c}=_0x5cc365[_0x4fd3b2(0x111)];if(!_0x22a75c)return _0x2d1b1b[_0x4fd3b2(0x126)](0x190)[_0x4fd3b2(0xff)]({'message':'خطا\x20در\x20ورودی!'});const _0x4e04f6=yield device_entity_1[_0x4fd3b2(0x107)][_0x4fd3b2(0xfe)](_0x22a75c,_0x5cc365[_0x4fd3b2(0x11d)],'delete');if(!_0x4e04f6[_0x4fd3b2(0x135)])return _0x2d1b1b[_0x4fd3b2(0x126)](0x190)['json']({'message':_0x4e04f6[_0x4fd3b2(0xf3)]});yield device_entity_1[_0x4fd3b2(0x107)][_0x4fd3b2(0xf5)](_0x22a75c,_0x4e04f6[_0x4fd3b2(0x10a)]);const _0x34e9d1=yield device_entity_1['default'][_0x4fd3b2(0xe8)](_0x5cc365[_0x4fd3b2(0x11d)]);return _0x2d1b1b['json']({'message':_0x4fd3b2(0x134),'devices':_0x34e9d1});}catch(_0x729779){return console[_0x4fd3b2(0x120)]('inside\x20delete\x20device'),console[_0x4fd3b2(0x120)](_0x729779),_0x2d1b1b[_0x4fd3b2(0x126)](0x1f4)[_0x4fd3b2(0xff)]({'message':_0x4fd3b2(0xec)});}});function _0x1829(){const _0x533e78=['body','دستگاه\x20با\x20موفقیت\x20اضافه\x20شد!','addDevicePower','toString','4566204ysgrmN','inside\x20delete\x20schedule','1533664AVbHsp','deleteSchedule','isTime','نام\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!','next','addCooler','userId','کلمه\x20عبور\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید','inside\x20add\x20device','error','__importDefault','inside\x20add\x20schedule','done','apply','شماره\x20سریال\x20را\x20وارد\x20نکرده\x20اید','status','validateSerialNumberForAdmin','cooler','isValidObjectId','تغییرات\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','addDeviceCooler','boolean','22314LpCyDs','../classes/broker_provider','__awaiter','power','Types','1417302vPdEEc','462rtWZyM','دستگاه\x20شما\x20با\x20موفقیت\x20حذف\x20شد','valid','save','../classes/validator','3541470ZaEJkA','inside\x20kick\x20device','1063718BUOZKr','نام\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید!','inside\x20remove\x20device','3095hxabyP','deleteDevice','getAllDevices','trim','فرمت\x20ساعت\x20خاموش\x20شدن\x20اشتباه\x20است','isWeekDayArray','خطایی\x20پیش\x20آمده','length','chc-','نوع\x20دستگاه\x20را\x20وارد\x20نکرده\x20اید','خطا\x20در\x20ورودی!','deviceExists','serialNumber','message','addPower','deleteOwnerDevice','fullName','__esModule','خطا\x20در\x20ورودی','kickDevice','throw','دسته\x20بندی\x20دستگاه\x20نمیتواند\x20بیشتر\x20از\x20۵۰\x20کاراکتر\x20باشد!','mongoose','powerExists','validateSerialNumber','json','chp-','saveDevice','saveSchedule','فرمت\x20انتخاب\x20روز\x20های\x20هفته\x20اشتباه\x20است','deleteDeviceInStoreRoom','user','این\x20شماره\x20سریال\x20برای\x20دستگاه\x20دیگری\x20قبلا\x20ثبت\x20شده\x20است!','default','4632xUBCsY','deleteOwnerOfDevice','type','addDevice','مدل\x20کولر\x20را\x20وارد\x20نکرده\x20اید!','addSchedule','مدل\x20کولر\x20نمیتواند\x20بیش\x20تر\x20از\x20۲۵\x20کاراکتر\x20\x20باشد','inside\x20delete\x20device\x20site','ورودی\x20نامعتبر!'];_0x1829=function(){return _0x533e78;};return _0x1829();}function _0x34e2(_0x282d52,_0x413243){const _0x1829c3=_0x1829();return _0x34e2=function(_0x34e262,_0xf40caf){_0x34e262=_0x34e262-0xe2;let _0x2dfdd6=_0x1829c3[_0x34e262];return _0x2dfdd6;},_0x34e2(_0x282d52,_0x413243);}exports[_0x1737a0(0xe7)]=deleteDevice;const saveSchedule=(_0x36b107,_0x301d8f)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2b363b=_0x1737a0;try{const {startTime:_0x4fac68,endTime:_0x5001af,repeat:_0x39a312,serialNumber:_0x393b19,portNumber:_0x11a5bf,id:_0x4cb30b,enable:_0x20c4a8}=_0x36b107[_0x2b363b(0x111)];if(!_0x4fac68&&!_0x5001af)return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':'زمان\x20روشن\x20شدن\x20یا\x20زمان\x20خاموش\x20شدن\x20باید\x20انتخاب\x20شود'});if(!_0x393b19||!_0x39a312)return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0xf8)});if(_0x393b19[_0x2b363b(0xe9)]()==='')return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0xf8)});if(!validator_1[_0x2b363b(0x107)][_0x2b363b(0xeb)](_0x39a312))return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0x103)});if(_0x4fac68){if(!validator_1[_0x2b363b(0x107)][_0x2b363b(0x119)](_0x4fac68))return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':'فرمت\x20ساعت\x20روشن\x20شدن\x20اشتباه\x20است'});}if(_0x5001af){if(!validator_1[_0x2b363b(0x107)]['isTime'](_0x5001af))return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0xea)});}const _0xe22e03=yield device_entity_1[_0x2b363b(0x107)]['validateSerialNumber'](_0x393b19,_0x36b107[_0x2b363b(0x11d)],_0x2b363b(0x10d));if(!_0xe22e03[_0x2b363b(0x135)])return _0x301d8f[_0x2b363b(0x126)](0x1f4)['json']({'message':_0xe22e03['message']});if(_0xe22e03[_0x2b363b(0x10a)]===_0x2b363b(0x130)){if(!_0x11a5bf)return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0xf8)});}if(!_0x4cb30b)yield device_entity_1[_0x2b363b(0x107)][_0x2b363b(0x10d)]({'serialNumber':_0x393b19[_0x2b363b(0xe9)](),'startTime':_0x4fac68===null||_0x4fac68===void 0x0?void 0x0:_0x4fac68[_0x2b363b(0xe9)](),'endTime':_0x5001af===null||_0x5001af===void 0x0?void 0x0:_0x5001af[_0x2b363b(0xe9)](),'repeat':_0x39a312,'type':_0xe22e03[_0x2b363b(0x10a)],'portNumber':_0x11a5bf});else{if(_0x20c4a8===undefined||_0x20c4a8==null)return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0xf8)});if(typeof _0x20c4a8!==_0x2b363b(0x12c))return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0xf8)});if(_0x4cb30b[_0x2b363b(0xe9)]()==='')return _0x301d8f['status'](0x190)['json']({'message':_0x2b363b(0xf8)});if(!(0x0,mongoose_1[_0x2b363b(0x129)])(_0x4cb30b))return _0x301d8f[_0x2b363b(0x126)](0x190)[_0x2b363b(0xff)]({'message':_0x2b363b(0xf8)});yield device_entity_1['default']['editSchedule']({'serialNumber':_0x393b19,'startTime':_0x4fac68,'endTime':_0x5001af,'repeat':_0x39a312,'portNumber':_0x11a5bf,'enable':_0x20c4a8,'_id':new mongoose_1['Types']['ObjectId'](_0x4cb30b),'type':_0xe22e03[_0x2b363b(0x10a)]});}const _0x573776=yield device_entity_1[_0x2b363b(0x107)][_0x2b363b(0xe8)](_0x36b107[_0x2b363b(0x11d)]);return _0x301d8f['json']({'message':_0x2b363b(0x12a),'devices':_0x573776});}catch(_0x58a55d){return console['error'](_0x2b363b(0x122)),console[_0x2b363b(0x120)](_0x58a55d),_0x301d8f[_0x2b363b(0x126)](0x1f4)[_0x2b363b(0xff)]({'message':_0x2b363b(0xec)});}});exports[_0x1737a0(0x102)]=saveSchedule;const deleteSchedule=(_0x23674a,_0x1141c7)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2e1867=_0x1737a0;try{const {serialNumber:_0x10f80d,id:_0x2b3862}=_0x23674a[_0x2e1867(0x111)];if(!_0x10f80d||!_0x2b3862)return _0x1141c7[_0x2e1867(0x126)](0x190)[_0x2e1867(0xff)]({'message':_0x2e1867(0xf8)});if(_0x10f80d[_0x2e1867(0xe9)]()==='')return _0x1141c7[_0x2e1867(0x126)](0x190)[_0x2e1867(0xff)]({'message':_0x2e1867(0xf8)});if(_0x2b3862[_0x2e1867(0xe9)]()==='')return _0x1141c7[_0x2e1867(0x126)](0x190)[_0x2e1867(0xff)]({'message':_0x2e1867(0xf8)});const _0x3c0ee9=yield device_entity_1[_0x2e1867(0x107)][_0x2e1867(0xfe)](_0x10f80d,_0x23674a[_0x2e1867(0x11d)],'deleteSchedule');if(!_0x3c0ee9[_0x2e1867(0x135)])return _0x1141c7[_0x2e1867(0x126)](0x190)[_0x2e1867(0xff)]({'message':_0x3c0ee9['message']});yield device_entity_1['default'][_0x2e1867(0x118)](_0x10f80d,new mongoose_1[(_0x2e1867(0x131))]['ObjectId'](_0x2b3862),_0x3c0ee9[_0x2e1867(0x10a)]);const _0xc71519=yield device_entity_1[_0x2e1867(0x107)][_0x2e1867(0xe8)](_0x23674a['userId']);return _0x1141c7[_0x2e1867(0xff)]({'message':'تغییرات\x20شما\x20با\x20موفقیت\x20ذخیره\x20شد','devices':_0xc71519});}catch(_0x292df1){return console[_0x2e1867(0x120)](_0x2e1867(0x116)),console['error'](_0x292df1),_0x1141c7[_0x2e1867(0x126)](0x1f4)['json']({'message':'خطایی\x20پیش\x20آمده'});}});exports[_0x1737a0(0x118)]=deleteSchedule;const deleteOwnerOfDevice=(_0x93d9b0,_0xdee7ff)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x40f269=_0x1737a0;try{const {serialNumber:_0x24a8b8}=_0x93d9b0['body'];if(!_0x24a8b8)return _0xdee7ff[_0x40f269(0x126)](0x190)['json']({'message':_0x40f269(0xf0),'status':![]});const _0xb120ad=yield device_entity_1[_0x40f269(0x107)][_0x40f269(0x127)](_0x24a8b8);if(!_0xb120ad['valid'])return _0xdee7ff[_0x40f269(0x126)](0x190)['json']({'message':_0xb120ad['message'],'status':![]});return yield device_entity_1[_0x40f269(0x107)][_0x40f269(0xf5)](_0x24a8b8,_0xb120ad[_0x40f269(0x10a)]),_0xdee7ff[_0x40f269(0xff)]({'message':_0x40f269(0x134),'status':!![]});}catch(_0x26f5d1){return console[_0x40f269(0x120)](_0x40f269(0x10f)),console[_0x40f269(0x120)](_0x26f5d1),_0xdee7ff[_0x40f269(0x126)](0x1f4)[_0x40f269(0xff)]({'message':_0x40f269(0xec)});}});exports[_0x1737a0(0x109)]=deleteOwnerOfDevice;const kickDevice=(_0x5915f6,_0x509d31)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3b6a83=_0x1737a0;try{const {serialNumber:_0x860223}=_0x5915f6[_0x3b6a83(0x111)];if(!_0x860223)return _0x509d31['status'](0x190)[_0x3b6a83(0xff)]({'message':_0x3b6a83(0xf0),'status':![]});const _0x99653e=yield device_entity_1[_0x3b6a83(0x107)][_0x3b6a83(0x127)](_0x860223);if(!_0x99653e[_0x3b6a83(0x135)])return _0x509d31[_0x3b6a83(0x126)](0x190)[_0x3b6a83(0xff)]({'message':_0x99653e['message'],'status':![]});return yield broker_provider_1[_0x3b6a83(0x107)][_0x3b6a83(0xf9)](_0x860223),yield logs_entity_1[_0x3b6a83(0x107)]['kickDeviceFromBroker'](_0x860223,_0x5915f6[_0x3b6a83(0x105)]['id'],_0x5915f6['user'][_0x3b6a83(0xf6)]),_0x509d31[_0x3b6a83(0xff)]({'message':'ارتباط\x20دستگاه\x20با\x20موفقیت\x20با\x20سرور\x20قطع\x20شد','status':!![]});}catch(_0x9e8d30){return console[_0x3b6a83(0x120)](_0x3b6a83(0xe2)),console[_0x3b6a83(0x120)](_0x9e8d30),_0x509d31['status'](0x1f4)[_0x3b6a83(0xff)]({'message':_0x3b6a83(0xec),'status':![]});}});exports[_0x1737a0(0xf9)]=kickDevice;const addDevice=(_0x5de122,_0x40cac3)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x7dff27=_0x1737a0;try{const {password:_0x36a2af,type:_0x3a1d89}=_0x5de122[_0x7dff27(0x111)];let _0x342595=_0x5de122[_0x7dff27(0x111)][_0x7dff27(0xf2)];if(!_0x342595||!_0x36a2af||!_0x3a1d89)return _0x40cac3['status'](0x190)[_0x7dff27(0xff)]({'status':![],'message':_0x7dff27(0xf8)});if(_0x342595[_0x7dff27(0x114)]()[_0x7dff27(0xe9)]()=='')return _0x40cac3[_0x7dff27(0x126)](0x190)[_0x7dff27(0xff)]({'status':![],'message':_0x7dff27(0x125)});if(_0x36a2af['toString']()[_0x7dff27(0xe9)]()=='')return _0x40cac3[_0x7dff27(0x126)](0x190)[_0x7dff27(0xff)]({'status':![],'message':_0x7dff27(0x11e)});if(_0x3a1d89[_0x7dff27(0x114)]()['trim']()=='')return _0x40cac3[_0x7dff27(0x126)](0x190)['json']({'status':![],'message':_0x7dff27(0xef)});if(!['cooler',_0x7dff27(0x130)]['includes'](_0x3a1d89[_0x7dff27(0x114)]()))return _0x40cac3[_0x7dff27(0x126)](0x190)[_0x7dff27(0xff)]({'status':![],'message':'خطا\x20در\x20ورودی'});if(yield device_entity_1[_0x7dff27(0x107)][_0x7dff27(0xf1)](_0x342595))return _0x40cac3[_0x7dff27(0x126)](0x190)[_0x7dff27(0xff)]({'status':![],'message':_0x7dff27(0x106)});let _0x59cbab=undefined;if(_0x3a1d89==_0x7dff27(0x130))_0x342595=_0x7dff27(0x100)+_0x342595,_0x59cbab=yield device_entity_1[_0x7dff27(0x107)][_0x7dff27(0xf4)](_0x342595,_0x36a2af,_0x5de122['user']['id']),yield logs_entity_1['default'][_0x7dff27(0x113)](_0x342595,_0x5de122[_0x7dff27(0x105)]['id'],_0x59cbab);else _0x3a1d89=='cooler'&&(_0x342595=_0x7dff27(0xee)+_0x342595,_0x59cbab=yield device_entity_1[_0x7dff27(0x107)][_0x7dff27(0x11c)](_0x342595,_0x36a2af,_0x5de122[_0x7dff27(0x105)]['id']),yield logs_entity_1[_0x7dff27(0x107)][_0x7dff27(0x12b)](_0x342595,_0x5de122[_0x7dff27(0x105)]['id'],_0x59cbab));return yield broker_provider_1[_0x7dff27(0x107)]['addUserToMnesia'](_0x342595,_0x36a2af),_0x40cac3['json']({'status':!![],'message':_0x7dff27(0x112)});}catch(_0x48c108){return console[_0x7dff27(0x120)]('inside\x20add\x20device'),console[_0x7dff27(0x120)](_0x48c108),_0x40cac3[_0x7dff27(0x126)](0x1f4)[_0x7dff27(0xff)]({'message':_0x7dff27(0xec),'status':![]});}});exports[_0x1737a0(0x10b)]=addDevice;const deleteDeviceInStoreRoom=(_0x5184d4,_0x793b20)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xc9cca4=_0x1737a0;try{const {serialNumber:_0x2871f2,type:_0x2dea59}=_0x5184d4['body'];if(!_0x2871f2||!_0x2dea59)return _0x793b20[_0xc9cca4(0x126)](0x190)[_0xc9cca4(0xff)]({'status':![],'message':_0xc9cca4(0x110)});if(_0x2871f2[_0xc9cca4(0x114)]()[_0xc9cca4(0xe9)]()=='')return _0x793b20['status'](0x190)[_0xc9cca4(0xff)]({'status':![],'message':_0xc9cca4(0x110)});if(_0x2dea59[_0xc9cca4(0x114)]()[_0xc9cca4(0xe9)]()=='')return _0x793b20['status'](0x190)[_0xc9cca4(0xff)]({'status':![],'message':_0xc9cca4(0x110)});if(_0x2dea59=='cooler'){if(!(yield device_entity_1[_0xc9cca4(0x107)]['coolerExists'](_0x2871f2)))return _0x793b20[_0xc9cca4(0x126)](0x190)[_0xc9cca4(0xff)]({'status':![],'message':_0xc9cca4(0x110)});yield device_entity_1[_0xc9cca4(0x107)]['removeCooler'](_0x2871f2);}else{if(_0x2dea59==_0xc9cca4(0x130)){if(!(yield device_entity_1['default'][_0xc9cca4(0xfd)](_0x2871f2)))return _0x793b20[_0xc9cca4(0x126)](0x190)['json']({'status':![],'message':'ورودی\x20نامعتبر!'});yield device_entity_1[_0xc9cca4(0x107)]['removePower'](_0x2871f2);}}return _0x793b20['json']({'status':!![],'message':'دستگاه\x20مورد\x20نظر\x20با\x20موفقیت\x20حذف\x20شد!'});}catch(_0x5002b8){return console[_0xc9cca4(0x120)](_0xc9cca4(0xe5)),console[_0xc9cca4(0x120)](_0x5002b8),_0x793b20[_0xc9cca4(0x126)](0x1f4)[_0xc9cca4(0xff)]({'message':_0xc9cca4(0xec),'status':![]});}});exports[_0x1737a0(0x104)]=deleteDeviceInStoreRoom;