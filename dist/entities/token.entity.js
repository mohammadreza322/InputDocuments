'use strict';const _0x721d3=_0x30bb;function _0x30bb(_0x3a202b,_0x20596d){const _0x3398a2=_0x3398();return _0x30bb=function(_0x30bbeb,_0x18ca3d){_0x30bbeb=_0x30bbeb-0x128;let _0xd1e69f=_0x3398a2[_0x30bbeb];return _0xd1e69f;},_0x30bb(_0x3a202b,_0x20596d);}(function(_0x1991f8,_0x31fd7f){const _0x47d21b=_0x30bb,_0x536662=_0x1991f8();while(!![]){try{const _0x23039b=-parseInt(_0x47d21b(0x129))/0x1+-parseInt(_0x47d21b(0x13d))/0x2+-parseInt(_0x47d21b(0x13f))/0x3*(parseInt(_0x47d21b(0x135))/0x4)+-parseInt(_0x47d21b(0x144))/0x5+parseInt(_0x47d21b(0x128))/0x6*(-parseInt(_0x47d21b(0x139))/0x7)+parseInt(_0x47d21b(0x147))/0x8*(parseInt(_0x47d21b(0x12c))/0x9)+parseInt(_0x47d21b(0x131))/0xa;if(_0x23039b===_0x31fd7f)break;else _0x536662['push'](_0x536662['shift']());}catch(_0x149c23){_0x536662['push'](_0x536662['shift']());}}}(_0x3398,0xf3f9b));var __awaiter=this&&this[_0x721d3(0x12e)]||function(_0x525c84,_0x5c34e1,_0x184ab7,_0x406995){function _0x343a58(_0x5240b9){return _0x5240b9 instanceof _0x184ab7?_0x5240b9:new _0x184ab7(function(_0xf3343d){_0xf3343d(_0x5240b9);});}return new(_0x184ab7||(_0x184ab7=Promise))(function(_0xc3a9ec,_0x5459db){const _0x423276=_0x30bb;function _0x579579(_0x13eaad){try{_0xd11216(_0x406995['next'](_0x13eaad));}catch(_0x313d89){_0x5459db(_0x313d89);}}function _0x17595b(_0x8a826e){const _0xa40eaa=_0x30bb;try{_0xd11216(_0x406995[_0xa40eaa(0x140)](_0x8a826e));}catch(_0x2f0661){_0x5459db(_0x2f0661);}}function _0xd11216(_0x13f8b8){const _0x4c6db1=_0x30bb;_0x13f8b8[_0x4c6db1(0x13c)]?_0xc3a9ec(_0x13f8b8[_0x4c6db1(0x145)]):_0x343a58(_0x13f8b8[_0x4c6db1(0x145)])[_0x4c6db1(0x132)](_0x579579,_0x17595b);}_0xd11216((_0x406995=_0x406995[_0x423276(0x12b)](_0x525c84,_0x5c34e1||[]))[_0x423276(0x137)]());});},__importDefault=this&&this[_0x721d3(0x142)]||function(_0x87371){const _0x57d586=_0x721d3;return _0x87371&&_0x87371[_0x57d586(0x133)]?_0x87371:{'default':_0x87371};};Object[_0x721d3(0x12a)](exports,_0x721d3(0x133),{'value':!![]});const constants_1=require(_0x721d3(0x13e)),tokens_model_1=__importDefault(require(_0x721d3(0x13b))),jsonwebtoken_1=require(_0x721d3(0x12f));class TokenEntity{static['generateToken'](_0x1f9e15){const _0x791a92=_0x721d3,_0x2bd14b=(0x0,jsonwebtoken_1[_0x791a92(0x13a)])({'id':_0x1f9e15},constants_1[_0x791a92(0x138)],{'expiresIn':constants_1['accessTokenExpireTime']}),_0x2442b7=(0x0,jsonwebtoken_1['sign'])({'id':_0x1f9e15},constants_1[_0x791a92(0x138)],{'expiresIn':constants_1['refreshTokenExpireTime']});return{'accessToken':_0x2bd14b,'refreshToken':_0x2442b7};}static[_0x721d3(0x12d)](_0x19c0b3,_0x446409){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2a2573=_0x30bb,{accessToken:_0x152dd5,refreshToken:_0x5bed85}=this[_0x2a2573(0x136)](_0x19c0b3['toString']());return yield tokens_model_1[_0x2a2573(0x134)][_0x2a2573(0x130)]({'token':_0x152dd5,'refreshToken':_0x5bed85,'agent':_0x446409,'user':_0x19c0b3}),{'accessToken':_0x152dd5,'refreshToken':_0x5bed85};});}static['removeOldToken'](_0xffa048,_0x1dddd3){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2e9114=_0x30bb;yield tokens_model_1[_0x2e9114(0x134)][_0x2e9114(0x146)]({'agent':_0x1dddd3,'user':_0xffa048});});}static[_0x721d3(0x141)](_0x53a66c){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2ae0fa=_0x30bb;yield tokens_model_1['default'][_0x2ae0fa(0x143)]({'user':_0x53a66c});});}}exports[_0x721d3(0x134)]=TokenEntity;function _0x3398(){const _0x58859d=['apply','1017pOTzxw','createToken','__awaiter','jsonwebtoken','insertMany','57897120cUFqzJ','then','__esModule','default','7297168XcNWpr','generateToken','next','jsonWebTokenSecretKey','9170jdJLOX','sign','../models/tokens.model','done','3845952Ksejpf','../utility/constants','3ZwYeqR','throw','removeAllUserTokens','__importDefault','deleteMany','2970925basHGA','value','deleteOne','23824mKxrJu','600aAzkqM','654450mqzCsG','defineProperty'];_0x3398=function(){return _0x58859d;};return _0x3398();}