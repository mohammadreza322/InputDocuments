'use strict';const _0x72a11b=_0x1473;function _0x1473(_0x436900,_0x25bd30){const _0x268184=_0x2681();return _0x1473=function(_0x1473c7,_0x2b2569){_0x1473c7=_0x1473c7-0x1b6;let _0x439a38=_0x268184[_0x1473c7];return _0x439a38;},_0x1473(_0x436900,_0x25bd30);}(function(_0x32003d,_0xfb303c){const _0x35814d=_0x1473,_0x1bd107=_0x32003d();while(!![]){try{const _0x504431=parseInt(_0x35814d(0x1ca))/0x1*(parseInt(_0x35814d(0x1cc))/0x2)+-parseInt(_0x35814d(0x1bc))/0x3+parseInt(_0x35814d(0x1d2))/0x4+-parseInt(_0x35814d(0x1bb))/0x5*(-parseInt(_0x35814d(0x1ce))/0x6)+parseInt(_0x35814d(0x1b6))/0x7*(parseInt(_0x35814d(0x1d0))/0x8)+-parseInt(_0x35814d(0x1d1))/0x9+-parseInt(_0x35814d(0x1c5))/0xa;if(_0x504431===_0xfb303c)break;else _0x1bd107['push'](_0x1bd107['shift']());}catch(_0x40056f){_0x1bd107['push'](_0x1bd107['shift']());}}}(_0x2681,0xe2fab));var __awaiter=this&&this['__awaiter']||function(_0x103a2f,_0x11c672,_0x22a4e1,_0x2df516){function _0x555f19(_0x17a747){return _0x17a747 instanceof _0x22a4e1?_0x17a747:new _0x22a4e1(function(_0x16fe02){_0x16fe02(_0x17a747);});}return new(_0x22a4e1||(_0x22a4e1=Promise))(function(_0x44e1d5,_0x240293){const _0x594465=_0x1473;function _0x471124(_0x1b43ba){const _0x2e2b40=_0x1473;try{_0xa69076(_0x2df516[_0x2e2b40(0x1c7)](_0x1b43ba));}catch(_0x13366c){_0x240293(_0x13366c);}}function _0x404aa0(_0x3f851b){const _0x40bb02=_0x1473;try{_0xa69076(_0x2df516[_0x40bb02(0x1c1)](_0x3f851b));}catch(_0x18d9f9){_0x240293(_0x18d9f9);}}function _0xa69076(_0x19d8cb){const _0x453dec=_0x1473;_0x19d8cb[_0x453dec(0x1c3)]?_0x44e1d5(_0x19d8cb['value']):_0x555f19(_0x19d8cb['value'])[_0x453dec(0x1c0)](_0x471124,_0x404aa0);}_0xa69076((_0x2df516=_0x2df516[_0x594465(0x1c9)](_0x103a2f,_0x11c672||[]))['next']());});},__importDefault=this&&this[_0x72a11b(0x1cf)]||function(_0x5f53bc){const _0x2f82c9=_0x72a11b;return _0x5f53bc&&_0x5f53bc[_0x2f82c9(0x1c2)]?_0x5f53bc:{'default':_0x5f53bc};};function _0x2681(){const _0x32d31c=['965SlGsms','removeOldToken','2006kbYzBX','deleteMany','9246fgnVyk','__importDefault','4632uqjlcc','3035961XjvUwm','1215820WfKLrG','../models/tokens.model','refreshTokenExpireTime','jsonwebtoken','toString','22141rnORzp','default','sign','generateToken','../utility/constants','2715lHAfRF','71682aofhpJ','defineProperty','removeAllUserTokens','jsonWebTokenSecretKey','then','throw','__esModule','done','accessTokenExpireTime','26490600dTSptJ','createToken','next','deleteOne','apply'];_0x2681=function(){return _0x32d31c;};return _0x2681();}Object[_0x72a11b(0x1bd)](exports,_0x72a11b(0x1c2),{'value':!![]});const constants_1=require(_0x72a11b(0x1ba)),tokens_model_1=__importDefault(require(_0x72a11b(0x1d3))),jsonwebtoken_1=require(_0x72a11b(0x1d5));class TokenEntity{static[_0x72a11b(0x1b9)](_0x39b1ba){const _0x50fd7f=_0x72a11b,_0x48979c=(0x0,jsonwebtoken_1[_0x50fd7f(0x1b8)])({'id':_0x39b1ba},constants_1[_0x50fd7f(0x1bf)],{'expiresIn':constants_1[_0x50fd7f(0x1c4)]}),_0x44f4f5=(0x0,jsonwebtoken_1[_0x50fd7f(0x1b8)])({'id':_0x39b1ba},constants_1[_0x50fd7f(0x1bf)],{'expiresIn':constants_1[_0x50fd7f(0x1d4)]});return{'accessToken':_0x48979c,'refreshToken':_0x44f4f5};}static[_0x72a11b(0x1c6)](_0x66b564,_0xfb93e){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x33a247=_0x1473,{accessToken:_0x11497a,refreshToken:_0x4b09e3}=this[_0x33a247(0x1b9)](_0x66b564[_0x33a247(0x1d6)]());return yield tokens_model_1[_0x33a247(0x1b7)]['insertMany']({'token':_0x11497a,'refreshToken':_0x4b09e3,'agent':_0xfb93e,'user':_0x66b564}),{'accessToken':_0x11497a,'refreshToken':_0x4b09e3};});}static[_0x72a11b(0x1cb)](_0xe68696,_0xdc15fc){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x260142=_0x1473;yield tokens_model_1[_0x260142(0x1b7)][_0x260142(0x1c8)]({'agent':_0xdc15fc,'user':_0xe68696});});}static[_0x72a11b(0x1be)](_0x58a543){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3c3c06=_0x1473;yield tokens_model_1[_0x3c3c06(0x1b7)][_0x3c3c06(0x1cd)]({'user':_0x58a543});});}}exports[_0x72a11b(0x1b7)]=TokenEntity;